!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.RSVP=e.RSVP||{})}(this,function(e){"use strict";function t(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function n(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t}function r(e,t){return"onerror"===e?void Te.on("error",t):2!==arguments.length?Te[e]:void(Te[e]=t)}function o(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(){}function u(){setTimeout(function(){for(var e=0;e<be.length;e++){var t=be[e],n=t.payload;n.guid=n.key+n.id,n.childGuid=n.key+n.childId,n.error&&(n.stack=n.error.stack),Te.trigger(t.name,t.payload)}be.length=0},50)}function c(e,t,n){1===be.push({name:e,payload:{key:t._guidKey,id:t._id,eventName:e,detail:t._result,childId:n&&n._id,label:t._label,timeStamp:we(),error:Te["instrument-with-stack"]?new Error(t._label):null}})&&u()}function l(e,t){var n=this;if(e&&"object"==typeof e&&e.constructor===n)return e;var r=new n(p,t);return E(r,e),r}function f(){return new TypeError("A promises callback cannot return that same promise.")}function p(){}function d(e){try{return e.then}catch(e){return Pe.error=e,Pe}}function h(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function m(e,t,n){Te.async(function(e){var r=!1,o=h(n,t,function(n){r||(r=!0,t!==n?E(e,n,void 0):v(e,n))},function(t){r||(r=!0,T(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,T(e,o))},e)}function _(e,t){t._state===Ce?v(e,t._result):t._state===Ne?(t._onError=null,T(e,t._result)):I(t,void 0,function(n){t!==n?E(e,n,void 0):v(e,n)},function(t){return T(e,t)})}function g(e,t,n){t.constructor===e.constructor&&n===C&&e.constructor.resolve===l?_(e,t):n===Pe?T(e,Pe.error):void 0===n?v(e,t):i(n)?m(e,t,n):v(e,t)}function E(e,t){e===t?v(e,t):o(t)?g(e,t,d(t)):v(e,t)}function y(e){e._onError&&e._onError(e._result),O(e)}function v(e,t){e._state===Ae&&(e._result=t,e._state=Ce,0===e._subscribers.length?Te.instrument&&c("fulfilled",e):Te.async(O,e))}function T(e,t){e._state===Ae&&(e._state=Ne,e._result=t,Te.async(y,e))}function I(e,t,n,r){var o=e._subscribers,i=o.length;e._onError=null,o[i]=t,o[i+Ce]=n,o[i+Ne]=r,0===i&&e._state&&Te.async(O,e)}function O(e){var t=e._subscribers,n=e._state;if(Te.instrument&&c(n===Ce?"fulfilled":"rejected",e),0!==t.length){for(var r=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)r=t[s],o=t[s+n],r?b(n,r,o,i):o(i);e._subscribers.length=0}}function w(){this.error=null}function S(e,t){try{return e(t)}catch(e){return Re.error=e,Re}}function b(e,t,n,r){var o=i(n),s=void 0,a=void 0,u=void 0,c=void 0;if(o){if(s=S(n,r),s===Re?(c=!0,a=s.error,s=null):u=!0,t===s)return void T(t,f())}else s=r,u=!0;t._state!==Ae||(o&&u?E(t,s):c?T(t,a):e===Ce?v(t,s):e===Ne&&T(t,s))}function A(e,t){var n=!1;try{t(function(t){n||(n=!0,E(e,t))},function(t){n||(n=!0,T(e,t))})}catch(t){T(e,t)}}function C(e,t,n){var r=arguments,o=this,i=o._state;if(i===Ce&&!e||i===Ne&&!t)return Te.instrument&&c("chained",o,o),o;o._onError=null;var s=new o.constructor(p,n),a=o._result;return Te.instrument&&c("chained",o,s),i?!function(){var e=r[i-1];Te.async(function(){return b(i,s,e,a)})}():I(o,s,e,t),s}function N(e,t,n){return e===Ce?{state:"fulfilled",value:n}:{state:"rejected",reason:n}}function P(e,t,n,r){this._instanceConstructor=e,this.promise=new e(p,r),this._abortOnReject=n,this._validateInput(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._init(),0===this.length?v(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&v(this.promise,this._result))):T(this.promise,this._validationError())}function R(e,t){return new P(this,e,!0,t).promise}function k(e,t){var n=this,r=new n(p,t);if(!Oe(e))return T(r,new TypeError("You must pass an array to race.")),r;for(var o=0;r._state===Ae&&o<e.length;o++)I(n.resolve(e[o]),void 0,function(e){return E(r,e)},function(e){return T(r,e)});return r}function U(e,t){var n=this,r=new n(p,t);return T(r,e),r}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function L(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function D(e,t){this._id=Ue++,this._label=t,this._state=void 0,this._result=void 0,this._subscribers=[],Te.instrument&&c("created",this),p!==e&&("function"!=typeof e&&M(),this instanceof D?A(this,e):L())}function x(){this.value=void 0}function Y(e){try{return e.then}catch(e){return Me.value=e,Me}}function j(e,t,n){try{e.apply(t,n)}catch(e){return Me.value=e,Me}}function V(e,t){for(var n={},r=e.length,o=new Array(r),i=0;i<r;i++)o[i]=e[i];for(var s=0;s<t.length;s++){var a=t[s];n[a]=o[s+1]}return n}function F(e){for(var t=e.length,n=new Array(t-1),r=1;r<t;r++)n[r-1]=e[r];return n}function G(e,t){return{then:function(n,r){return e.call(t,n,r)}}}function W(e,t){var n=function(){for(var n=this,r=arguments.length,o=new Array(r+1),i=!1,s=0;s<r;++s){var a=arguments[s];if(!i){if(i=q(a),i===Le){var u=new D(p);return T(u,Le.value),u}i&&i!==!0&&(a=G(i,a))}o[s]=a}var c=new D(p);return o[r]=function(e,n){e?T(c,e):void 0===t?E(c,n):t===!0?E(c,F(arguments)):Oe(t)?E(c,V(arguments,t)):E(c,n)},i?B(c,o,e,n):H(c,o,e,n)};return n.__proto__=e,n}function H(e,t,n,r){var o=j(n,r,t);return o===Me&&T(e,o.value),e}function B(e,t,n,r){return D.all(t).then(function(t){var o=j(n,r,t);return o===Me&&T(e,o.value),e})}function q(e){return!(!e||"object"!=typeof e)&&(e.constructor===D||Y(e))}function K(e,t){return D.all(e,t)}function z(e,t,n){this._superConstructor(e,t,!1,n)}function J(e,t){return new z(D,e,t).promise}function $(e,t){return D.race(e,t)}function Q(e,t,n){this._superConstructor(e,t,!0,n)}function X(e,t){return new Q(D,e,t).promise}function Z(e,t,n){this._superConstructor(e,t,!1,n)}function ee(e,t){return new Z(D,e,t).promise}function te(e){throw setTimeout(function(){throw e}),e}function ne(e){var t={resolve:void 0,reject:void 0};return t.promise=new D(function(e,n){t.resolve=e,t.reject=n},e),t}function re(e,t,n){return D.all(e,n).then(function(e){if(!i(t))throw new TypeError("You must pass a function as map's second argument.");for(var r=e.length,o=new Array(r),s=0;s<r;s++)o[s]=t(e[s]);return D.all(o,n)})}function oe(e,t){return D.resolve(e,t)}function ie(e,t){return D.reject(e,t)}function se(e,t){return D.all(e,t)}function ae(e,t){return D.resolve(e,t).then(function(e){return se(e,t)})}function ue(e,t,n){var r=Oe(e)?se(e,n):ae(e,n);return r.then(function(e){if(!i(t))throw new TypeError("You must pass a function as filter's second argument.");for(var r=e.length,o=new Array(r),s=0;s<r;s++)o[s]=t(e[s]);return se(o,n).then(function(t){for(var n=new Array(r),o=0,i=0;i<r;i++)t[i]&&(n[o]=e[i],o++);return n.length=o,n})})}function ce(e,t){We[De]=e,We[De+1]=t,De+=2,2===De&&He()}function le(){var e=process.nextTick,t=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=setImmediate),function(){return e(me)}}function fe(){return"undefined"!=typeof xe?function(){xe(me)}:he()}function pe(){var e=0,t=new Ve(me),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){return n.data=e=++e%2}}function de(){var e=new MessageChannel;return e.port1.onmessage=me,function(){return e.port2.postMessage(0)}}function he(){return function(){return setTimeout(me,1)}}function me(){for(var e=0;e<De;e+=2){var t=We[e],n=We[e+1];t(n),We[e]=void 0,We[e+1]=void 0}De=0}function _e(){try{var e=require,t=e("vertx");return xe=t.runOnLoop||t.runOnContext,fe()}catch(e){return he()}}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(){Te.on.apply(Te,arguments)}function ye(){Te.off.apply(Te,arguments)}var ve={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=void 0,e},on:function(e,r){if("function"!=typeof r)throw new TypeError("Callback must be a function");var o=n(this),i=void 0;i=o[e],i||(i=o[e]=[]),t(i,r)===-1&&i.push(r)},off:function(e,r){var o=n(this),i=void 0,s=void 0;return r?(i=o[e],s=t(i,r),void(s!==-1&&i.splice(s,1))):void(o[e]=[])},trigger:function(e,t,r){var o=n(this),i=void 0,s=void 0;if(i=o[e])for(var a=0;a<i.length;a++)(s=i[a])(t,r)}},Te={instrument:!1};ve.mixin(Te);var Ie=void 0;Ie=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var Oe=Ie,we=Date.now||function(){return(new Date).getTime()},Se=Object.create||function(e){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof e)throw new TypeError("Argument must be an object");return a.prototype=e,new a},be=[],Ae=void 0,Ce=1,Ne=2,Pe=new w,Re=new w;P.prototype._validateInput=function(e){return Oe(e)},P.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},P.prototype._init=function(){this._result=new Array(this.length)},P.prototype._enumerate=function(){for(var e=this.length,t=this.promise,n=this._input,r=0;t._state===Ae&&r<e;r++)this._eachEntry(n[r],r)},P.prototype._settleMaybeThenable=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===l){var o=d(e);if(o===C&&e._state!==Ae)e._onError=null,this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=this._makeResult(Ce,t,e);else if(n===D){var i=new n(p);g(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},P.prototype._eachEntry=function(e,t){s(e)?this._settleMaybeThenable(e,t):(this._remaining--,this._result[t]=this._makeResult(Ce,t,e))},P.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===Ae&&(this._remaining--,this._abortOnReject&&e===Ne?T(r,n):this._result[t]=this._makeResult(e,t,n)),0===this._remaining&&v(r,this._result)},P.prototype._makeResult=function(e,t,n){return n},P.prototype._willSettleAt=function(e,t){var n=this;I(e,void 0,function(e){return n._settledAt(Ce,t,e)},function(e){return n._settledAt(Ne,t,e)})};var ke="rsvp_"+we()+"-",Ue=0;D.cast=l,D.all=R,D.race=k,D.resolve=l,D.reject=U,D.prototype={constructor:D,_guidKey:ke,_onError:function(e){var t=this;Te.after(function(){t._onError&&Te.trigger("error",e,t._label)})},then:C,catch:function(e,t){return this.then(void 0,e,t)},finally:function(e,t){var n=this,r=n.constructor;return n.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})},t)}};var Me=new x,Le=new x;z.prototype=Se(P.prototype),z.prototype._superConstructor=P,z.prototype._makeResult=N,z.prototype._validationError=function(){return new Error("allSettled must be called with an array")},Q.prototype=Se(P.prototype),Q.prototype._superConstructor=P,Q.prototype._init=function(){this._result={}},Q.prototype._validateInput=function(e){return e&&"object"==typeof e},Q.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},Q.prototype._enumerate=function(){var e=this,t=e.promise,n=e._input,r=[];for(var o in n)t._state===Ae&&Object.prototype.hasOwnProperty.call(n,o)&&r.push({position:o,entry:n[o]});var i=r.length;e._remaining=i;for(var s=void 0,a=0;t._state===Ae&&a<i;a++)s=r[a],e._eachEntry(s.entry,s.position)},Z.prototype=Se(Q.prototype),Z.prototype._superConstructor=P,Z.prototype._makeResult=N,Z.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};var De=0,xe=void 0,Ye="undefined"!=typeof window?window:void 0,je=Ye||{},Ve=je.MutationObserver||je.WebKitMutationObserver,Fe="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Ge="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,We=new Array(1e3),He=void 0;He=Fe?le():Ve?pe():Ge?de():void 0===Ye&&"function"==typeof require?_e():he();var Be=void 0;if("object"==typeof self)Be=self;else{if("object"!=typeof global)throw new Error("no global: `self` or `global` found");Be=global}var qe;Te.async=ce,Te.after=function(e){return setTimeout(e,0)};var Ke=oe,ze=function(e,t){return Te.async(e,t)};if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var Je=window.__PROMISE_INSTRUMENTATION__;r("instrument",!0);for(var $e in Je)Je.hasOwnProperty($e)&&Ee($e,Je[$e])}var Qe=(qe={cast:Ke,Promise:D,EventTarget:ve,all:K,allSettled:J,race:$,hash:X,hashSettled:ee,rethrow:te,defer:ne,denodeify:W,configure:r,on:Ee,off:ye,resolve:oe,reject:ie,map:re},ge(qe,"async",ze),ge(qe,"filter",ue),qe);e.default=Qe,e.cast=Ke,e.Promise=D,e.EventTarget=ve,e.all=K,e.allSettled=J,e.race=$,e.hash=X,e.hashSettled=ee,e.rethrow=te,e.defer=ne,e.denodeify=W,e.configure=r,e.on=Ee,e.off=ye,e.resolve=oe,e.reject=ie,e.map=re,e.async=ze,e.filter=ue,Object.defineProperty(e,"__esModule",{value:!0})}),window.Promise=window.RSVP.Promise,function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.GrandCentral=e.GrandCentral||{})}(this,function(e){"use strict";function t(e,t,n,r){return function(){for(var o,i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];e._level>n||(o=console)[t].apply(o,[r].concat(s))}}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.keys(e).filter(function(t){return null!=e[t]&&""!==e[t]});if(!n.length)return"";var r=n.map(function(t){var n=e[t],r=encodeURIComponent(t),o=Array.isArray(n)?n.map(encodeURIComponent).join("&"+r+"="):encodeURIComponent(n);return r+"="+o}).join("&");return(t?"":"?")+r}function r(e){return n(e,!0)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(/^\??(.*)/)[1].split("&"),n={};return t.forEach(function(e){if(e.length){var t=e.split("="),r=decodeURIComponent(t[0]),o=void 0!==t[1]?decodeURIComponent(t[1]):"true";n[r]=void 0===n[r]?o:Array.isArray(n[r])?n[r].concat(o):[n[r],o]}}),n}function i(){var e="undefined"!=typeof crypto?crypto.getRandomValues(new Uint16Array(8)):new Uint16Array(8).map(function(){return 65536*Math.random()});return e.reduce(function(e,t,n){var r=3===n?4095&t|16384:4===n?16383&t|32768:t,o=n>=1&&n<=4;return e+("000"+r.toString(16)).slice(-4)+(o?"-":"")},"")}function s(e,t){var r=e.split("#");return r[0]+=(r[0].indexOf("?")===-1?"?":"&")+n(t,!0),r.join("#")}function a(e,t,n){var r={accessToken:"token",authCode:"code"};return{response_type:r[t],prompt:"none",client_id:n[t].clientId,scope:n[t].scopes.join(","),service_entity:n.serviceEntity,duid:n.duid,redirect_uri:e}}function u(e,t){var n=a(t.loginRedirectUri,e,t),r=C({},n,{prompt:"login"},t.loginFormParameters);return s(t.authorizationUri,r)}function c(e,t){var n=document.createElement("iframe");return n.setAttribute("style","display: none"),n.setAttribute("name",Date.now()),document.body.appendChild(n),new Promise(function(r,o){var u=t.requestId||i(),c=s(t.redirectUri,{requestId:u}),l=null,f=function e(t){var i=t&&t.data;"object"===("undefined"==typeof i?"undefined":b(i))&&i.requestId===u&&(window.removeEventListener("message",e),clearTimeout(l),l=null,n.parentNode.removeChild(n),n=null,i.redirect_uri=c,i.error?o(i):r(i))};l=setTimeout(function(){f({data:{error:"timeout",requestId:u}})},t.timeout||G),window.addEventListener("message",f);var p=a(c,e,t);n.setAttribute("src",s(t.authorizationUri,p))})}function l(e,t,n){if(!t(e))throw new TypeError(n+" has invalid value: "+JSON.stringify(e))}function f(e,t,n){"undefined"!=typeof e&&l(e,t,n)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),n=t.length;return function(r){for(var o=0;o<n;o++)if(r===e[t[o]])return!0;return!1}}function d(e){return function(t){return null!=t&&t.constructor.name===e.name}}function h(e){return function(t){return Array.isArray(t)&&t.every(d(e))}}function m(e){return!!e&&"object"===("undefined"==typeof e?"undefined":v(e))}function _(e){return m(e)&&"[object Object]"===Object.prototype.toString.call(e)}function g(e,t){Object.keys(t).forEach(function(n){if("criteria"!==n&&"overrides"!==n){if(!_(t[n]))return void(e[n]=t[n]);_(e[n])||(null!=e[n]&&q.warn("Attempted to override non-Object target with Object source.","Destination will be replaced by source."),e[n]={}),g(e[n],t[n])}})}function E(e,t){return"number"!=typeof e||e<0||e>t?t:e}function y(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},w=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},S=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":v(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"==typeof e?"undefined":v(e)},A=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":v(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},P=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":v(t))&&"function"!=typeof t?e:t},R={DEBUG:0,INFO:1,WARN:2,ERROR:3,OFF:4},k=function(){function e(){A(this,e),C(this,R),this._level=R.WARN}return e.prototype.setLevel=function(e){this._level=e},e.prototype.get=function(e){var n=e?"[GC] ["+e+"]":"[GC]";return{debug:t(this,"log",R.DEBUG,n),info:t(this,"info",R.INFO,n),warn:t(this,"warn",R.WARN,n),error:t(this,"error",R.ERROR,n)}},e}(),U=new k,M=U.get("ABSTRACT AUTH"),L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A(this,e),C(this,{_options:t,_token:null,_tokenExpiration:0,_tokenPromise:null})}return e.prototype._fetchAccessTokenHandler=function(e){return M.warn("_fetchAccessTokenHandler is not implemented!"),Promise.reject()},e.prototype._fetchAuthCodeHandler=function(e){return M.warn("_fetchAuthCodeHandler is not implemented!"),Promise.reject()},e.prototype.clearAccessToken=function(){this._token=null,this._tokenExpiration=0},e.prototype.fetchAccessToken=function(){var e=this;if(this._token){var t=this._tokenExpiration>Date.now();if(t)return Promise.resolve(this._token);this.clearAccessToken()}return this._tokenPromise?this._tokenPromise:(this._tokenPromise=this._fetchAccessTokenHandler(this._options).then(function(t){return e._token=t.token,e._tokenExpiration=t.expiration,e._tokenPromise=null,e._token}).catch(function(t){throw e._tokenPromise=null,t}),this._tokenPromise)},e.prototype.fetchAuthCode=function(){return this._fetchAuthCodeHandler(this._options)},e}(),D=function(e){function t(){return A(this,t),P(this,e.apply(this,arguments))}return N(t,e),t.prototype._fetchAccessTokenHandler=function(){return new Promise(function(e,t){sce.getAccessToken(e)}).then(function(e){if(!e||"string"!=typeof e.access_token||""===e.access_token)throw new Error("Access Token request failed.");return{token:e.access_token,expiration:e.expiration_time}})},t}(L),x=function(){function e(){A(this,e)}return e.prototype.extend=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach(function(n){e[n]="Url"===n.slice(-3)?t[n].replace(/\/?$/,"/"):t[n]})},e.prototype.clear=function(){var e=this;Object.keys(this).forEach(function(t){delete e[t]})},e}(),Y=new x,j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";A(this,e),this.method=/^(POST|DELETE|PUT)$/i.test(t)?t.toUpperCase():"GET",this.uri=n}return e.prototype.open=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.method,o=this.uri;return new Promise(function(i,s){var a=new XMLHttpRequest;a.open(r,o,!0),Object.keys(e).forEach(function(t){a.setRequestHeader(t,e[t])}),C(a,{withCredentials:!!n.withCredentials,responseType:n.responseType||"",onload:function(){i(a)},onerror:function(){s({requestState:"error",requestUrl:o})},onabort:function(){s({requestState:"abort",requestUrl:o})},ontimeout:function(){s({requestState:"timeout",requestUrl:o})}}),a.send("POST"===r||"PUT"===r?t:null)}).then(function(e){var t={response:e.response||e.responseText,status:e.status,getResponseHeader:e.getResponseHeader.bind(e),requestState:"completed",requestUrl:o},n=/^application\/json/i.test(t.getResponseHeader("Content-Type"));if(!t.responseType&&n&&t.response.trim().length>0)try{t.response=JSON.parse(t.response)}catch(e){throw t.requestState="parsererror",t}if(t.status>=400)throw t;return t})},e}(),V=U.get("PSBROWSER AUTH"),F=function(e){function t(){return A(this,t),P(this,e.apply(this,arguments))}return N(t,e),t.prototype._fetchAccessTokenHandler=function(){Y.kamajiEnv||V.error('Config field missing: "kamajiEnv"!'),Y.psnUsername||V.error('Config field missing: "psnUsername"!'),Y.psnPassword||V.error('Config field missing: "psnPassword"!');var e="https://auth.api."+Y.kamajiEnv+".ac.playstation.net/2.0/oauth/token",t=["kamaji:account_link_user_get_access_token","kamaji:account_link_user_link_account","kamaji:activity_feed_get_feed_privacy","kamaji:activity_feed_get_news_feed","kamaji:activity_feed_submit_feed_story","kamaji:commerce_container","kamaji:commerce_native","kamaji:lists","openid","versa:user_lookup_account"],n={Authorization:"Basic ZDA1YWM2MTktNmY5MC00NTg0LTg1MzgtMjU1MjMyYmQ2MTg2OndGZU5aMDlqb1hqRlZZMkk=","Content-Type":"application/x-www-form-urlencoded"},o=r({grant_type:"password",username:Y.psnUsername,password:Y.psnPassword,scope:t.join(",")}),i=new j("POST",e);return i.open(n,o).then(function(e){var t=e.response;if(!t||"string"!=typeof t.access_token||""===t.access_token)throw new Error("Access Token request failed.");return{token:t.access_token,expiration:Date.now()+1e3*t.expires_in}})},t}(L),G=2e4,W=function(e){function t(){return A(this,t),P(this,e.apply(this,arguments))}return N(t,e),t.prototype._fetchAuthCodeHandler=function(e){if(!e.authCode||!e.authCode.clientId||!e.authCode.scopes)throw new Error("Cannot fetch auth code -- clientId and/or scopes not found!");if(!e.authorizationUri)throw new Error("Cannot fetch auth code -- authorizationUri not found!");if(!e.redirectUri)throw new Error("Cannot fetch auth code -- redirectUri not found!");return c("authCode",e).then(function(e){return{code:e.code,redirectUrl:e.redirect_uri}}).catch(function(t){throw e.loginRedirectUri&&(t.loginUri=u("authCode",e)),t})},t.prototype._fetchAccessTokenHandler=function(e){if(!e.accessToken||!e.accessToken.clientId||!e.accessToken.scopes)throw new Error("Cannot fetch access token -- clientId and/or scopes not found!");if(!e.authorizationUri)throw new Error("Cannot fetch access token -- authorizationUri not found!");if(!e.redirectUri)throw new Error("Cannot fetch access token -- redirectUri not found!");return c("accessToken",e).then(function(e){return{token:e.access_token,expiration:Date.now()+1e3*e.expires_in}}).catch(function(t){throw e.loginRedirectUri&&(t.loginUri=u("accessToken",e)),t})},t}(L),H=function(e){function t(){return A(this,t),P(this,e.apply(this,arguments))}return N(t,e),t.prototype.open=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Y.kamajiPlatformId&&(t["x-requested-by"]=Y.kamajiPlatformId),Y.kamajiClientName&&(t["Kamaji-Client"]=Y.kamajiClientName),e.prototype.open.call(this,t,n)},t.prototype.openWithAccessToken=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.fetchAccessToken().then(function(e){return n.Authorization="Bearer "+e,t.open(n,r)})},t}(j),B=function(){function e(){if(T(this,e),!Y.kamajiHostUrl)throw new Error("kamajiHostUrl not found in GC config! Set with Config.extend before constructing.");this._hostUrl=Y.kamajiHostUrl}return e.prototype.fetchItems=function(){var e=this._hostUrl+"user/checkout/cart",t=new H("GET",e);return t.open()},e.prototype.add=function(e){var t=this._hostUrl+"user/checkout/cart/items",n={"Content-Type":"application/json"},r=JSON.stringify(Array.isArray(e)?e:[e]),o=new H("POST",t);return o.open(n,r)},e.prototype.remove=function(e,t){var n=this._hostUrl+"user/checkout/cart"+(e?"/items/"+e:"")+(t?"?remove_coupon=true":""),r=new H("DELETE",n);return r.open()},e.prototype.clear=function(){return this.remove()},e.prototype.applyCoupon=function(e){var t=this._hostUrl+"user/checkout/cart/coupon",n={},o=r({coupon_code:e}),i=new H("POST",t);return i.open(n,o)},e.prototype.validateCoupon=function(e){var t=this._hostUrl+"user/checkout/cart/coupon/"+e,n=new H("GET",t);return n.open()},e.prototype.unapplyCoupon=function(e){var t=this._hostUrl+"user/checkout/cart/coupon/"+e,n=new H("DELETE",t);return n.open()},e.prototype.checkout=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._hostUrl+"user/checkout",n={},o=r({cart_id:e.cartId||0,cart_hash:e.cartHash,password:e.password,payment_id:e.paymentId}),i=new H("POST",t);return i.open(n,o)},e.prototype.buynowPreview=function(e){var t=this._hostUrl+"user/checkout/buynow/preview",n={},o=r({sku:e}),i=new H("POST",t);return i.open(n,o)},e.prototype.buynow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._hostUrl+"user/checkout/buynow",o={},i=r({sku:e,autoDeposit:t.autoDeposit,password:t.password,payment_id:t.paymentId,skipEmail:t.skipEmail}),s=new H("POST",n);return s.open(o,i)},e}(),q=U.get("CLIENT CONFIG"),K=function(){function e(){T(this,e),this._criteriaVerifiers={},this._rawSettings={}}return e.prototype._applyOverride=function(e){if(e.criteria)for(var t=Object.keys(e.criteria),n=0;n<t.length;n++){var r=this._criteriaVerifiers[t[n]],o=e.criteria[t[n]],i="function"==typeof r&&r(o);if(!i)return{}}var s={};if(g(s,e),e.overrides)for(var a=0;a<e.overrides.length;a++)g(s,this._applyOverride(e.overrides[a]));return s},e.prototype.computeSettings=function(){return this._applyOverride(this._rawSettings)},e.prototype.addSettings=function(e){return!m(e)||Array.isArray(e)&&!e.every(m)?void q.warn("addSettings expected an object or array of objects but received:",e):void(this._rawSettings.overrides=(this._rawSettings.overrides||[]).concat(e))},e.prototype.clearSettings=function(){this._rawSettings={}},e.prototype.addCriteriaVerifier=function(e,t){this._criteriaVerifiers[e]=t},e.prototype.clearCriteriaVerifiers=function(){this._criteriaVerifiers={}},e.prototype.matchesRegExp=function(e,t){return new RegExp("^"+e+"$","i").test(t)},e}(),z=function(){function e(){if(T(this,e),!Y.kamajiMetaUrl)throw new Error("kamajiMetaUrl was not found in GC config! Set with Config.extend before constructing.");this._metaUrl=Y.kamajiMetaUrl}return e.prototype.fetchSkuEntitlementMetadata=function(e,t,r){var o=(Y.countryLanguageAge||"").split("/"),i=S(o,2),s=i[0],a=i[1],u=""+this._metaUrl+s+"/"+a+"/sku/"+e+"/entitlement/"+t+n(r),c=new H("GET",u);return c.open()},e}(),J=U.get("CURATOR"),$=function(){function e(t){if(T(this,e),t||J.warn('Constructor parameter "auth" not found! Some calls may fail.'),!Y.kamajiCatalogUrl)throw new Error("kamajiCatalogUrl was not found in GC config! Set with Config.extend before constructing.");this._auth=t,this._catalogUrl=Y.kamajiCatalogUrl}return e.prototype.fetchACMData=function(e,t,r){var o=this._catalogUrl+"users/me/channels/"+e+"/contexts/"+t+n(r),i=new H("GET",o);return i.openWithAccessToken(this._auth)},e}(),Q=U.get("ENTITLEMENT"),X=function(){function e(t){if(T(this,e),t||Q.warn('Constructor parameter "auth" not found! Some calls may fail.'),!Y.kamajiHostUrl)throw new Error("kamajiHostUrl not found in GC config! Set with Config.extend before constructing.");if(!Y.kamajiCommerceUrl)throw new Error("kamajiCommerceUrl not found in GC config! Set with Config.extend before constructing.");I(this,{_auth:t,_hostUrl:Y.kamajiHostUrl,_commerceUrl:Y.kamajiCommerceUrl})}return e.prototype.fetchInternalEntitlements=function(e){var t=this._commerceUrl+"users/me/internal_entitlements"+n(e),r=new H("GET",t);return r.openWithAccessToken(this._auth)},e.prototype.fetchInternalEntitlement=function(e,t){var r=this._commerceUrl+"users/me/internal_entitlements/"+e+n(t),o=new H("GET",r);return o.openWithAccessToken(this._auth)},e.prototype.fetchHomeshareEntitlement=function(e){var t=this._commerceUrl+"users/me/homeshare/entitlement/"+e,n=new H("GET",t);return n.openWithAccessToken(this._auth)},e.prototype.fetchUserRating=function(e){var t=this._hostUrl+"user/rating/"+e,n=new H("GET",t);return n.open()},e.prototype.postUserRating=function(e,t){var n=this._hostUrl+"user/rating/"+e,o={},i=r({stars:t}),s=new H("POST",n);return s.open(o,i)},e}(),Z=U.get("FEEDS"),ee=function(){function e(t){if(T(this,e),t||Z.warn('Constructor parameter "auth" not found! Some calls may fail.'),!Y.storeHostUrl&&!Y.kamajiHostUrl)throw new Error("Neither storeHostUrl nor kamajiHostUrl were found in GC config! Set with Config.extend before constructing.");I(this,{_auth:t,_hostUrl:Y.storeHostUrl||Y.kamajiHostUrl.replace("kamaji","store"),_containerRequiresAccessToken:"sp-int"===Y.kamajiEnv}),Y.storeHostUrl||Z.info("storeHostUrl not found in GC config -- defaulting to:",this._hostUrl)}return e.prototype._getFeedsEndpoint=function(e){return""+this._hostUrl+e+"/"+Y.countryLanguageAge+"/"},e.prototype.fetchContainer=function(e,t){var r=this._getFeedsEndpoint("container")+e+n(t),o=new H("GET",r);return this._containerRequiresAccessToken?o.openWithAccessToken(this._auth):o.open()},e.prototype.fetchTitleContainer=function(e,t){var r=this._getFeedsEndpoint("titlecontainer")+e+n(t),o=new H("GET",r);return this._containerRequiresAccessToken?o.openWithAccessToken(this._auth):o.open()},e.prototype.tumblerSearch=function(e,t){var r=this._getFeedsEndpoint("tumbler")+encodeURIComponent(e)+n(t),o=new H("GET",r);return o.open()},e.prototype.bucketSearch=function(e,t){
var r=this._getFeedsEndpoint("bucket_search")+encodeURIComponent(e)+n(t),o=new H("GET",r);return o.open()},e.prototype.facetSearch=function(e,t){var r=this._getFeedsEndpoint("search")+encodeURIComponent(e)+n(t),o=new H("GET",r);return o.open()},e}(),te={275:"CIRCLE",274:"CROSS",273:"SQUARE",276:"TRIANGLE",269:"UP",270:"DOWN",271:"LEFT",272:"RIGHT",279:"L1",280:"L2",281:"L3",282:"R1",283:"R2",284:"R3",277:"SELECT",278:"START",ENTER:"CROSS",ESCAPE:"CIRCLE"},ne={13:"ENTER",27:"BACK",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",112:"TRIANGLE",113:"SQUARE",114:"OPTIONS",116:"L1",117:"R1",118:"L2",119:"R2",120:"L3",121:"R3",122:"Prev",126:"Ff",127:"Rwd",128:"Play",129:"Stop",130:"Pause",132:"Topmenu",133:"Popupmenu",134:"Subtitle",135:"Audio"},re=U.get("KEY MAP"),oe={ds3:te,ds4:ne},ie=function(){function e(t){if(T(this,e),this._mapping=t?oe[t]:{},!this._mapping)throw new Error('Key mapping not available for device "'+t+'"! Provided mappings include: '+Object.keys(oe).join(", "));t&&re.info('Using provided key mapping for device "'+t+'".')}return e.prototype.extend=function(e){I(this._mapping,e)},e.prototype.getInputType=function(e){return this._mapping[e]||this._mapping.default},e.prototype.getInputCode=function(e){for(var t=Object.keys(this._mapping),n=t.length,r=0;r<n;r++){var o=t[r];if(this._mapping[o]===e)return~~o}return null},e}(),se=U.get("INPUT"),ae=function(){function e(t){T(this,e),I(this,{_keyUpHandler:null,_keyDownHandler:null,_boundOnKeyUp:null,_boundOnKeyDown:null,attached:!1,keyMap:new ie(t)})}return e.prototype.attach=function(){return this.attached?void se.warn("Input is already attached."):(this._boundOnKeyUp=this.onKeyUp.bind(this),this._boundOnKeyDown=this.onKeyDown.bind(this),window.addEventListener("keyup",this._boundOnKeyUp,!0),window.addEventListener("keydown",this._boundOnKeyDown,!0),void(this.attached=!0))},e.prototype.detach=function(){return this.attached?(window.removeEventListener("keyup",this._boundOnKeyUp,!0),window.removeEventListener("keydown",this._boundOnKeyDown,!0),this._boundOnKeyUp=null,this._boundOnKeyDown=null,void(this.attached=!1)):void se.warn("Input is already detached.")},e.prototype.onKeyUp=function(e){if("function"!=typeof this._keyUpHandler)return void se.warn("onKeyUp handler not found! Set with setOnKeyUp.");var t=e.keyCode,n=this.keyMap.getInputType(t);null!=n&&this._keyUpHandler({code:t,type:n,originalEvent:e})},e.prototype.onKeyDown=function(e){if("function"!=typeof this._keyDownHandler)return void se.warn("onKeyDown handler not found! Set with setOnKeyDown.");var t=e.keyCode,n=this.keyMap.getInputType(t);null!=n&&this._keyDownHandler({code:t,type:n,originalEvent:e})},e.prototype.setOnKeyUp=function(e){this._keyUpHandler=e},e.prototype.setOnKeyDown=function(e){this._keyDownHandler=e},e}(),ue={};ue.EVENT_TYPE={LOGGED_IN:1,CLICK:2,SEARCH:3,CART:4,PURCHASE:5,LOGGED_OUT:6,PROMOTION_AD:7,VIDEO_PREVIEW:8,RECOMMEND:9,DOWNLOAD:10,VIDEO_STREAM:11,PAGE_VIEW:12,VOUCHER:13,NAVIGATION:14,INTERACT:15,ACTIVITY_POST:16,REG:17,IMPRESSION:18,CAM:19,OPTIMUS:20,COMMUNITY_MODIFY:21,COMMUNITY_USER:22,COMMUNITY_POST:23,LIST:24,ERROR:99,USER_VISIBLE_ERROR:100},ue.EVENT_NAME={1:"logins",2:"clicks",3:"searches",4:"carts",5:"purchases",6:"logouts",7:"adPromotions",8:"videoPreviews",9:"recommendations",10:"downloads",11:"videoStreams",12:"pageViews",13:"vouchers",15:"interactbs",16:"activities",17:"registrations",18:"impressions",19:"cams",20:"optimuses",21:"communityModifies",22:"communityUsers",23:"communityPosts",24:"lists",99:"errors",100:"errorUvers"},ue.EVENT_ENDPOINT={1:"login",2:"click",3:"search",4:"cart",5:"purchase",6:"logout",7:"adPromotion",8:"video/preview",9:"recommendation",10:"download",11:"video/stream",12:"pageView",13:"voucher",15:"interact",16:"activity",17:"reg",18:"impression",19:"cam",20:"optimus",21:"community/modify",22:"community/user",23:"community/post",24:"list",99:"error",100:"errorUver"},ue.EVENT_SEND_IMMEDIATELY={99:!0,100:!0},ue.CONTENT_TYPE={GAMES:101,VIDEOS:102,MUSIC:103,COMICS:104,OTHER:105},ue.DEVICE_TYPE={WEB:201,PS3:202,VITA:203,HE:204,XPERIA:205,PS4:206,WEB_MOBILE:207,COMP_APP:208,PSNOW_BETA:209,SEN_TV:210,FRIEND_APP:211,PSNOW_VITA:212,PSNOW_VITA_TV:213,AAVU:214,IPHONE_VIDEO:215,PSNOW_CE:216,PSNOW_SUBSCRIPTION:217,SOCIAL_WEB_PC:225,SOCIAL_WEB_MOBILE:226,SOCIAL_TOOLBAR_PC:227,SOCIAL_TOOLBAR_MOBILE:228},ue.USER_TYPE={GUEST:301,RECOGNIZED:302,SIGNED_IN:303},ue.ITEM_TYPE={CATEGORY:401,PRODUCT:402,PIVOT:403,URL:404,APM:405},ue.SEARCH_TYPE={TUMBLER:421,FACET:422,OSK_GAME:423,OSK_VIDEO:424,OSK_ALL:425},ue.CART_EVENT_TYPE={ADD:431,DELETE:432,CHECKOUT_STARTED:433},ue.AD_EVENT_TYPE={IMPRESSION:441,CLICK:442,INSTALL:443},ue.ITEM_SUBTYPE={ADD_ON:601,THEME:602,AVATAR:603,WALLPAPER:604,DEMO:605,VIDEO:606},ue.STREAM_TYPE={HLS:701,DASH:702},ue.STREAM_SOURCE={CAPITOL:750,CRACKLE:751,OTHER:752},ue.VIDEO_ACTION={PLAY:801,PAUSE:802,STOP:803,REWIND:804,FAST_FORWARD:805,REBUFFER:806,SEEK:807,FRAME_DROP:808,REPSWITCH:809,PLAY_PROGRESS:810,PLAYER_ERROR:811,BANDWIDTH_CHANGE:812,BANDWIDTH_TEST_RESULT:813,AUDIO_SYNC_ERR:814,PLAY_STARTED:815},ue.VIDEO_ACTION_REASON={NORMAL_EXIT:901,USER_PRESSED_STOP:902,FILE_NOT_FOUND:903,BAD_CORRUPT_FILE:904,UNKNOWN_ERROR:905,TIMEOUT:906},ue.DOWNLOAD_STATUS={STARTED:951,DONE:952,QUEUED:953,ADD_TO_LIBRARY:954},ue.VOUCHER_TYPE={CASH:971,PRODUCT:972},ue.RECOMMENDATION_TYPE={IMPRESSION:980,CLICK:981,APM_IMPRESSION:982,APM_CLICK:983},ue.VIDEO_ERROR_SEVERITY={FATAL:1230,CRITICAL:1231,NORMAL:1232},ue.LIVE_ITEM_TYPE={IMAGE:13e3,VIDEO:13001,HTML:13002},ue.CONTEXT_TYPE={CONTENT_LAUNCHER:13101,WHATS_NEW:13102,MY_GAME_LIBRARY:13103,MY_VU_LIBRARY:13104,GAME:13105,LIVE_DETAILS:13106,GALLERY_VIEW:13107,STORE:13108,REGISTRATION:13109,CAM:13110,TITLE_FEED:13111,GLOBAL_MENU:13112,VIDEO_PLAYER:13113,USER_PROFILE:13114,TROPHIES_PAGE:13115,MY_ADD_ONS:13116,ADMIN_TOOL:13117,USER_ACTIVITY_FEED:13118,STORE_CART:13119,COMP_APP_HOME:13120,COMP_APP_WHATS_NEW_LIST:13121,COMP_APP_PROFILE_HOME:13122,COMP_APP_PROFILE_RECENT:13123,IN_GAME_STORE:13124,WWW_BROWSER:13125,LIVE_STREAMING_APP:13126,MU_APP:13127,SAVED_DATA_UTILITY:13128,TROPHY_APP:13129,PSNOW_GAME_LAUNCHER:13130,EMAIL:13131,NOTIFICATION:13132,PLUS_DESTINATION:13133,SHARE_PLAY_GUEST:13134,SHARE_PLAY_HOST:13135,SCREENSHOT:13136,FRIEND_BROADCASTING:13137,GAME_BROADCASTING:13138,PLAYERS_YOU_MAY_KNOW:13139,FRIENDS_NOW_PLAYING:13140,CONTENT_VOTING:13141,STORE_PROMO_ZONE:13142,COMMUNITY:13143,FRIENDS_WHO_PLAY_THIS:13144,PLUS_DESTINATION_MANAGE_ACCOUNT:13145,PLUS_DESTINATION_WELCOME_MAT:13146,PLUS_DESTINATION_DEALS:13147,PEOPLE_PICKER_LIST:13148,PARTY_APP:13149,STORE_PDP:13150,STORE_THANK_YOU:13151,PLUS_DESTINATION_LIBRARY:13152},ue.IMPRESSION_TYPE={LIVE_ITEM:13200,FEED_STORY:13201,INFO_TILE:13202,CONTENT_VOTE:13203,CONTENT_VOTE_RESULT:13204,LIVE_DETAIL_FRIENDS_WHO_PLAY_WIDGET:13205,LIVE_DETAIL_FREINDS_WHO_PLAY_PAGE:13206,FRIENDS_NOW_PLAYING_GALLERY_VIEW:13207,LIVE_DETAIL_TROPHY_WIDGET:13208,PLAYERS_YOU_MAY_KNOW:13209,FRIENDS_BROADCASTING:13210,GALLERY_VIEW:13211,FRIENDS_NOW_PLAYING_JOIN_SESSION_BUTTON:13212,FRIENDS_NOW_PLAYING_JOIN_PARTY_BUTTON:13213,FRIENDS_NOW_PLAYING_START_BUTTON:13214,FRIENDS_NOW_PLAYING_VIEW_IN_PSSTORE_BUTTON:13215,FRIENDS_NOW_PLAYING_LIVE_FROM_PLAYSTATION_BUTTON:13216,FRIENDS_NOW_PLAYING_VIEW_CONTENT_INFO_BUTTON:13217,RECOMMENDATION_FOLLOW_VIEW:13218,FRIENDS_NOW_PLAYING_REQ_SHARE_SCREEN_BUTTON:13219,FRIENDS_NOW_PLAYING_VIEW_BROADCAST_BUTTON:13220,VERIFIED_GALLERY_VIEW_EVENT_BUTTON:13221,FRIENDS_WHO_PLAY_THIS_JOIN_SESSION_BUTTON:13222,FRIENDS_WHO_PLAY_THIS_START_BUTTON:13223,FRIENDS_WHO_PLAY_THIS:13224,FRIENDS_NOW_PLAYING_VIEW_COMMUNITY_BUTTON:13225,FRIENDS_NOW_PLAYING_MEMBERS_ONLY_BUTTON:13226,PLUS_DESTINATION_LIBRARY:13227,PLUS_DESTINATION_HOME_UPSELL:13228,PLUS_DESTINATION_HOME_COMMUNITIES:13229,PLUS_DESTINATION_HOME_IGC:13230,PLUS_DESTINATION_HOME_EVENTS:13231,PLUS_DESTINATION_DEALS:13232,FRIENDS_NOW_PLAYING_VIEW_SESSION_MEMBERS_BUTTON:13233,FRIENDS_NOW_PLAYING_VIEW_COMMUNITY_MEMBERS_BUTTON:13234,FRIENDS_WHO_PLAY_THIS_JOIN_PARTY_BUTTON:13235,FRIENDS_WHO_PLAY_THIS_VIEW_IN_PSSTORE_BUTTON:13236,FRIENDS_WHO_PLAY_THIS_LIVE_FROM_PLAYSTATION_BUTTON:13237,FRIENDS_WHO_PLAY_THIS_VIEW_CONTENT_INFO_BUTTON:13238,PLUS_DESTINATION_CONTENT_VOTING:13239},ue.STORY_TYPE={SCREENSHOT_UPLOAD:13301,PSN_FRIENDING:13302,PSN_UNFRIENDING:13303,PSN_LIKE:13304,PSN_UNLIKE:13305,COMMENT:13306,VIDEO_UPLOAD:13307,RATING:13308,TROPHY_UNLOCK:13309,FRIEND_IMPORT_FROM_FB:13310,PROFILE_UPDATE:13311,BROADCAST_START:13312,BROADCAST_STOP:13313,RESHARE_ACTIVITY:13314,GAME_PLAY:13315,PURCHASED:13316,WATCHED_VIDEO:13317,PLAYED_WITH:13318,IN_GAME_POST:13319,CONTENT_SHARE:13320,STORE_PROMO:13321,PUBLISHER_PROMO:13322,RENTED:13323,SUBSCRIBED:13324,APP_WATCHED_VIDEO:13325,FIRST_GAME_PLAY:13326,IN_APP_POST:13327,SHARE_GAME_PLAY:13328,RENTED_PSNOW:13329,CONTENT_SHARE_PSNOW:13330,LIKED_PSNOW:13331,PLAYED_GAME_PSNOW:13332,TROPHY_PSNOW:13333,SUBSCRIBED_PSNOW:13334,GAME_BROADCAST_TILE:13335,YOU_MAY_KNOW_TILE:13336,FRIENDS_ARE_PLAYING_TILE:13337,FRIENDS_BROADCAST_TILE:13338,YOU_MAY_KNOW_TILE_NO_FRIENDS:13339,PLAYED_SUMMARY:13340,STARTED_FOLLOWING:13341,PLAYERS_TO_FOLLOW_TILE:13342,YOUTUBE_SHARED_VIDEO:13343,VIDEO_UPLOAD_VERIFIED:13344,SCREENSHOT_UPLOAD_VERIFIED:13345,VOTED:13346,FOLLOWED:13347,GIFTED:13348,FRIEND_SHARED_EVENT:13349,FRIEND_JOIN_EVENT:13350,JOINED_COMMUNITY:13351,CREATED_COMMUNITY:13352,TROPHY_UPLOAD:13353},ue.INTERACT_TYPE={LIVE_ITEM_CLICK:13401,STORY_CLICK:13402,GALLERY_VIEW_CLICK:13403,FRIEND_APP_CLICK:13404,INFO_TILE_CLICK:13405,OPTIMUS_GATING:13406,STORY_DELETE:13407,CONTENT_VOTE:13408,LIVE_DETAIL_TROPHY_CLICK:13409,LIVE_DETAIL_FRIENDS_WHO_PLAY_CLICK:13410,FRIENDS_NOW_PLAYING_CLICK:13411,FRIENDS_BROADCASTING_CLICK:13412,COMMENT_CREATED:13413,ACCOUNT_LINK:13414,ACCOUNT_UNLINK:13415,COMMENT_DELETED:13416,FRIENDS_WHO_PLAY_THIS_CLICK:13417,PLUS_DESTINATION_CLICK:13418,SET_AVATAR:13419},ue.GALLERY_VIEW_BUTTON_TYPE={LIKED:13600,LIKE_COUNT:13601,VIEW_PROFILE:13602,VIEW_CONTENT_INFO:13603,VIEW_IN_STORE:13604,BUY_GAME:13605,DOWNLOAD:13606,START:13607,SUBSCRIBE:13608,LISTEN:13609,JOIN_PSPLUS:13610,FULL_GAME_TRIAL:13611,PREORDER:13612,COUNTDOWN_TIMER:13613,TRY_FREE_DEMO:13614,START_DEMO:13615,VIEW_PRODUCT_DEMOS:13616,WATCH:13617,RENT:13618,BUY_VIDEO:13619,VIEW_MY_VIDEOS:13620,LIVE_FROM_PLAYSTATION:13621,SUBSCRIBE_NICONICO:13622,VIEW_IN_FB:13623,VIEW_IN_TWITTER:13624,VIEW_IN_TWITCH:13625,CUSTOM:13626,PROFILE_THUMBNAIL:13627,MORE:13628,VIEW_IN_YOUTUBE:13629,UNLIKE:13630,VIEW_MU:13631,EXTEND:13632,COMPARE_TROPHIES:13633,FRIEND_REQUEST:13634,FACEBOOK_FLOW:13635,JOIN_GAME:13636,JOIN_PARTY:13637,VIEW_IN_DAILYMOTION:13638,VIEW_LIVESTREAM_YOUTUBE:13639,VIEW_EVENT:13640,VIEW_TAGGED_USERS:13641,VIEW_COMMUNITY_PROFILE:13642,REQUEST_TO_JOIN_COMMUNITY:13643,JOIN_COMMUNITY:13644,BROADCAST:13645,VIEW_BROADCAST:13646,REQ_SCREENSHARE:13647,MEMBERS_ONLY:13648,VIEW_COMMUNITY_MEMBERS:13649,VIEW_SESSION_MEMBERS:13650},ue.OPTIMUS_EVENT_TYPE={ONLINE_MULTIPLAYER:13700,ASYNC_MULTIPLAYER:13701,USER_GATE_NEGATIVE:13702,USER_GATE_POSITIVE:13703,USER_UPSELL_NO:13704,USER_UPSELL_YES_DISCOVER:13705,USER_UPSELL_TRIAL:13706,USER_UPSELL_YES_PAID:13707,USER_NOT_ELIGIBLE:13708,USER_UPSELL_YES_PAID_EXTEND:13709,SHARE_PLAY:13710},ue.STORY_CONTENT_TYPE={VIDEO:13801,AUDIO:13802,IMAGE:13803,SLIDESHOW:13804,MIXED:13805},ue.FRIEND_APP_CODE={TOKEN_GENERATED:14e3,TOKEN_CONSUMED:14001,BROWSER_LINK_CLICKED:14002,PREVIEW_SHOWED:14003,REAL_NAME_FRIEND:14004,FAIL_ALREADY_FRIENDS:14005,FAIL_NO_SELF_FRIEND:14006,TOKEN_GENERATED_1TOANY:14007,TOKEN_CONSUMED_1TOANY:14008,BROWSER_LINK_CLICKED_1TOANY:14009,PREVIEW_SHOWED_1TOANY:14010},ue.REVENUE_FINDING_METHOD={NO_FINDING_METHOD:0,SEARCH:1,GRID:2,CAROUSEL_BANNER:3,GRID_BANNER:4,GRID_QUICK_ADD:5,EXTERNAL:6,PDP_SECTION:7,RECOMMENDATIONS:8,WISHLIST:9},ue.PURCHASE_TYPE={REGULAR:0,BUY_NOW:1,PREORDER_PAYNOW:2,PREORDER_PAYLATER:3},ue.VIDEO_PURCHASE_FORMAT={HD:101,SD:102},ue.LIST_TYPE={WISHLIST:1,PS_NOW_PLAYLIST:2},ue.LIST_ACTION={CREATE:1,MODIFY:2,DELETE:3,VIEW:4,SHARE:5,ITEM_ADD:6,ITEM_DELETE:7,ITEM_PURCHASE:8},ue.LIST_ITEM_SOURCE={PDP:1,GRID:2,FRIENDS_LIST:3,MY_LIST:4,SEARCH_RESULTS:5,RECS:6,CART:7},ue.COMMUNITY_MODIFY_ACTION={CREATE:1,AMEND:2,DELETE:3},ue.COMMUNITY_USER_ACTION={REQUEST_TO_JOIN:1,INVITED:2,JOINED:3,LEFT:4,APPROVED:5,DENIED:6,PROMOTE:7,DEMOTE:8,KICKED:9,BLOCKED:10},ue.COMMUNITY_USER_ROLE={MODERATOR:1,MEMBER:2,OWNER:3},ue.COMMUNITY_POST_ACTION={CREATE:1,DELETE:2},ue.COMMUNITY_POST_ATTACHMENT_TYPE={NONE:1,SCREENSHOT:2,VIDEO:3},ue.IMPACT={CRITICAL:0,MAJOR:1,MODERATE:2,MINOR:3};var ce=function e(t){T(this,e),l(t.itemType,p(ue.ITEM_TYPE),"Item#itemType"),f(t.itemSubtype,p(ue.ITEM_SUBTYPE),"Item#itemSubtype"),f(t.revFindingMethod,p(ue.REVENUE_FINDING_METHOD),"Item#revFindingMethod"),I(this,{itemType:t.itemType,itemSubtype:t.itemSubtype,itemId:t.itemId,name:t.name,imageUrl:t.imageUrl,itemPrice:t.itemPrice,displayPrice:t.displayPrice,sku:t.sku,tax:t.tax,rewardId:t.rewardId,campaignId:t.campaignId,discountCode:t.discountCode,discountAmt:t.discountAmount,recmdId:t.recId,recContext:t.recContext,recAlgorithm:t.recAlgorithm,recUuid:t.recUuid,revFindingMethod:t.revFindingMethod,revContext:t.revContext,revAnchor:t.revAnchor})},le=function e(t,n){T(this,e);var r=this.constructor.name;l(t,p(ue.EVENT_TYPE),r+"#eventType"),l(n.deviceType,p(ue.DEVICE_TYPE),r+"#deviceType"),I(this,{eventType:t,deviceType:n.deviceType,time:(n.date||new Date).toISOString(),accessToken:n.accessToken,deviceId:n.deviceId,ipAddress:n.ipAddress,accountId:n.accountId,cust01:n.cust01,cust02:n.cust02,cust03:n.cust03,cust04:n.cust04,cust05:n.cust05,cust06:n.cust06,cust07:n.cust07,cust08:n.cust08,cust09:n.cust09,cust10:n.cust10})},fe=function(e){function t(n,r){T(this,t);var o=w(this,e.call(this,n,r));return I(o,{cust11:r.cust11,cust12:r.cust12,cust13:r.cust13,cust14:r.cust14,cust15:r.cust15,cust16:r.cust16,cust17:r.cust17,cust18:r.cust18,cust19:r.cust19,cust20:r.cust20}),o}return O(t,e),t}(le),pe=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.ACTIVITY_POST,n));return l(n.storyType,p(ue.STORY_TYPE),"ActivityPostEvent#storyType"),l(n.sourceContext,p(ue.CONTEXT_TYPE),"ActivityPostEvent#sourceContext"),f(n.contentType,p(ue.STORY_CONTENT_TYPE),"ActivityPostEvent#contentType"),I(r,{storyType:n.storyType,sourceContext:n.sourceContext,contentType:n.contentType,storyId:n.storyId,titleId:n.titleId,productId:n.productId,relatedOnlineIds:n.relatedOnlineIds||[]}),r}return O(t,e),t}(fe),de=function(e){function t(n,r){T(this,t);var o=w(this,e.call(this,n,r)),i=o.constructor.name;return l(r.contentType,p(ue.CONTENT_TYPE),i+"#contentType"),l(r.country,d(String),i+"#country"),l(r.language,d(String),i+"#language"),I(o,{contentType:r.contentType,storeCountryCode:r.country,storeLanguageCode:r.language,pageUrl:r.pageUrl,currentPageUrl:r.currentPageUrl,pageName:r.pageName,menuContext:r.menuContext,userAgent:r.userAgent,screenResolution:r.screenResolution,userType:r.accountId?ue.USER_TYPE.SIGNED_IN:ue.USER_TYPE.GUEST,age:r.age||999,plusUser:r.isPsPlus?1:0,emcid:r.emcid,smcid:r.smcid,refSource:r.refSource}),o}return O(t,e),t}(le),he=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.PROMOTION_AD,n));return l(n.adType,p(ue.AD_EVENT_TYPE),"AdPromotionEvent#adType"),f(n.itemType,p(ue.ITEM_TYPE),"AdPromotionEvent#itemType"),I(r,{adType:n.adType,itemType:n.itemType,itemId:n.itemId,url:n.url,offset:n.offset,target:n.target,bannerRecordId:n.bannerRecordId,reportingIds:n.reportingIds&&!Array.isArray(n.reportingIds)?[n.reportingIds]:n.reportingIds}),r}return O(t,e),t}(de),me=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.CART,n));return l(n.items,h(ce),"CartEvent#items"),l(n.cartEventType,p(ue.CART_EVENT_TYPE),"CartEvent#cartEventType"),I(r,{items:n.items,itemCount:n.items.length,cartEventType:n.cartEventType,isInGame:n.isInGame}),r}return O(t,e),t}(de),_e=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.CLICK,n));return l(n.item,d(ce),"ClickEvent#item"),I(r,{item:n.item,isSearchResult:n.isSearchResult?1:0,isSuggested:n.isSuggested?1:0,searchTerm:n.searchTerm,pageNumber:n.pageNumber,slotNumber:n.slotNumber,filterBy:n.filterBy||[],sortBy:n.sortBy||[],etcid:n.etcid,etrid:n.etrid,catHierarchy:n.catHierarchy,entryPoint:n.entryPoint,layoutId:n.layoutId,isInGame:n.isInGame}),r}return O(t,e),t}(de),ge=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.COMMUNITY_MODIFY,n));return l(n.action,p(ue.COMMUNITY_MODIFY_ACTION),"CommunityModifyEvent#action"),I(r,{action:n.action,entryPoint:n.entryPoint,plusUser:n.isPsPlus?1:0,communityId:n.communityId,communityName:n.communityName,missionStatement:n.missionStatement,titleId:n.titleId,profilePicture:n.hasProfilePicture?1:0,backgroundPicture:n.hasBackgroundPicture?1:0,privacy:n.isOpen?1:0,timezone:n.timezone,languageCode:n.language}),r}return O(t,e),t}(fe),Ee=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.COMMUNITY_POST,n));return l(n.action,p(ue.COMMUNITY_POST_ACTION),"CommunityPostEvent#action"),l(n.attachmentType,p(ue.COMMUNITY_POST_ATTACHMENT_TYPE),"CommunityPostEvent#attachmentType"),I(r,{action:n.action,attachmentTypeId:n.attachmentType,entryPoint:n.entryPoint,communityId:n.communityId,messageId:n.messageId,plusUser:n.isPsPlus?1:0}),r}return O(t,e),t}(fe),ye=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.COMMUNITY_USER,n));return l(n.action,p(ue.COMMUNITY_USER_ACTION),"CommunityUserEvent#action"),l(n.role,p(ue.COMMUNITY_USER_ROLE),"CommunityUserEvent#role"),I(r,{action:n.action,role:n.role,entryPoint:n.entryPoint,communityId:n.communityId,onlineIdAffected:n.onlineId,plusUserAffected:n.isPsPlus?1:0}),r}return O(t,e),t}(fe),ve=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.DOWNLOAD,n));return l(n.item,d(ce),"DownloadEvent#item"),l(n.downloadStatus,p(ue.DOWNLOAD_STATUS),"DownloadEvent#downloadStatus"),I(r,{item:n.item,downloadStatus:n.downloadStatus,isRedownload:n.isRedownload?1:0,isInGame:n.isInGame}),r}return O(t,e),t}(de),Te=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.ERROR,n));return I(r,{errorInfo:"object"===v(n.errorInfo)?JSON.stringify(n.errorInfo):n.errorInfo,errorCode:n.errorCode,isInGame:n.isInGame}),r}return O(t,e),t}(de),Ie=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.IMPRESSION,n));return l(n.impressionType,p(ue.IMPRESSION_TYPE),"ImpressionEvent#impressionType"),l(n.sourceContext,p(ue.CONTEXT_TYPE),"ImpressionEvent#sourceContext"),f(n.storyType,p(ue.STORY_TYPE),"ImpressionEvent#storyType"),f(n.liveItemType,p(ue.LIVE_ITEM_TYPE),"ImpressionEvent#liveItemType"),I(r,{impressionType:n.impressionType,sourceContext:n.sourceContext,storyType:n.storyType,liveItemType:n.liveItemType,storyId:n.storyId,titleId:n.titleId,productId:n.productId,categoryId:n.categoryId,params:n.params,actionUrl:n.actionUrl}),r}return O(t,e),t}(fe),Oe=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.INTERACT,n));return l(n.interactType,p(ue.INTERACT_TYPE),"InteractEvent#interactType"),l(n.sourceContext,p(ue.CONTEXT_TYPE),"InteractEvent#sourceContext"),f(n.destinationContext,p(ue.CONTEXT_TYPE),"InteractEvent#destinationContext"),f(n.storyType,p(ue.STORY_TYPE),"InteractEvent#storyType"),f(n.contentType,p(ue.STORY_CONTENT_TYPE),"InteractEvent#contentType"),f(n.liveItemType,p(ue.LIVE_ITEM_TYPE),"InteractEvent#liveItemType"),f(n.galleryViewButtonType,p(ue.GALLERY_VIEW_BUTTON_TYPE),"InteractEvent#galleryViewButtonType"),f(n.friendAppCode,p(ue.FRIEND_APP_CODE),"InteractEvent#friendAppCode"),I(r,{interactType:n.interactType,sourceContext:n.sourceContext,destContext:n.destinationContext,storyType:n.storyType,contentType:n.contentType,liveItemType:n.liveItemType,galleryViewButtonType:n.galleryViewButtonType,friendAppCode:n.friendAppCode,itemId:n.itemId,titleId:n.titleId,productId:n.productId,categoryId:n.categoryId,actorOnlineId:n.actorOnlineId,relatedOnlineIds:n.relatedOnlineIds||[],params:n.params,actionUrl:n.actionUrl}),r}return O(t,e),t}(fe),we=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.LIST,n));return l(n.listType,p(ue.LIST_TYPE),"ListEvent#listType"),l(n.listAction,p(ue.LIST_ACTION),"ListEvent#listAction"),f(n.itemSource,p(ue.LIST_ITEM_SOURCE),"ListEvent#itemSource"),I(r,{listType:n.listType,listAction:n.listAction,listId:n.listId,listName:n.listName,itemProdIdSource:n.itemSource,itemProdId:n.itemId,accountIdOwner:n.accountIdOwner}),r}return O(t,e),t}(de),Se=function(e){function t(n){return T(this,t),w(this,e.call(this,ue.EVENT_TYPE.LOGGED_IN,n))}return O(t,e),t}(de),be=function(e){function t(n){return T(this,t),w(this,e.call(this,ue.EVENT_TYPE.LOGGED_OUT,n))}return O(t,e),t}(de),Ae=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.OPTIMUS,n));return l(n.optimusEventType,p(ue.OPTIMUS_EVENT_TYPE),"OptimusEvent#optimusEventType"),l(n.sourceContext,p(ue.CONTEXT_TYPE),"OptimusEvent#sourceContext"),f(n.destinationContext,p(ue.CONTEXT_TYPE),"OptimusEvent#destinationContext"),I(r,{optimusFeatures:n.optimusEventType,sourceContext:n.sourceContext,destContext:n.destinationContext,titleId:n.titleId,productId:n.productId,plusSku:n.plusSku,titleToken:n.titleToken}),r}return O(t,e),t}(fe),Ce=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.PAGE_VIEW,n));return I(r,{pageNumber:n.pageNumber,filterBy:n.filterBy||[],sortBy:n.sortBy||[],isInGame:n.isInGame}),r}return O(t,e),t}(de),Ne=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.PURCHASE,n));return l(n.itemsPurchased,h(ce),"PurchaseEvent#itemsPurchased"),l(n.purchaseType,p(ue.PURCHASE_TYPE),"PurchaseEvent#purchaseType"),I(r,{itemsPurchased:n.itemsPurchased,itemCount:n.itemsPurchased.length,purchaseType:n.purchaseType,purchaseStatus:n.purchaseSucceeded?1:0,txnId:n.transactionId,tax:n.tax,rewardId:n.rewardId,discountCode:n.discountCode,discountAmt:n.discountAmount,isInGame:n.isInGame}),r}return O(t,e),t}(de),Pe=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.RECOMMEND,n));return l(n.itemsViewed,h(ce),"RecommendationEvent#itemsViewed"),l(n.recType,p(ue.RECOMMENDATION_TYPE),"RecommendationEvent#recType"),I(r,{itemsViewed:n.itemsViewed,resultCount:n.itemsViewed.length,recommendationType:n.recType,recContext:n.recContext,recAlgorithm:n.recAlgorithm,recUuid:n.recUuid}),r}return O(t,e),t}(de),Re=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.SEARCH,n));return l(n.searchType,p(ue.SEARCH_TYPE),"SearchEvent#searchType"),I(r,{searchType:n.searchType,searchTerm:n.searchTerm,itemIds:n.itemIds||[],resultCount:(n.itemIds||[]).length}),r}return O(t,e),t}(de),ke=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.USER_VISIBLE_ERROR,n));return l(n.impact,p(ue.IMPACT),"UserVisibleErrorEvent#impact"),l(n.country,d(String),"UserVisibleErrorEvent#country"),I(r,{impact:n.impact,storeCountryCode:n.country,data:"object"===v(n.data)?JSON.stringify(n.data):n.data,feature:n.feature,major:n.major,minor:n.minor,errorCode:n.errorCode,buildVersion:n.buildVersion,expId:n.expId}),r}return O(t,e),t}(le),Ue=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.VIDEO_PREVIEW,n));return I(r,{pcnt:n.percentage,videoUrl:n.videoUrl,itemId:n.itemId,isInGame:n.isInGame}),r}return O(t,e),t}(de),Me=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.VIDEO_STREAM,n));return l(n.streamType,p(ue.STREAM_TYPE),"VideoStreamEvent#streamType"),l(n.videoAction,p(ue.VIDEO_ACTION),"VideoStreamEvent#videoAction"),f(n.reason,p(ue.VIDEO_ACTION_REASON),"VideoStreamEvent#reason"),f(n.videoPurchaseFormat,p(ue.VIDEO_PURCHASE_FORMAT),"VideoStreamEvent#videoPurchaseFormat"),f(n.streamSource,p(ue.STREAM_SOURCE),"VideoStreamEvent#streamSource"),f(n.severity,p(ue.VIDEO_ERROR_SEVERITY),"VideoStreamEvent#severity"),I(r,{streamType:n.streamType,videoAction:n.videoAction,reason:n.reason,contentPurchaseFormat:n.videoPurchaseFormat,drmContentId:n.drmContentId,videoUrl:n.videoUrl,streamSource:n.streamSource,streamId:n.streamId,sessionId:n.sessionId,launchedFrom:n.launchedFrom,audioLangCode:n.audioLanguageCode,subtitleLangCode:n.subtitleLanguageCode,mediaTime:n.mediaTime,mediaPTS:n.mediaPTS,audioPTS:n.audioPTS,pcnt:n.percentage,linkSpeed:n.linkSpeed,eventSeqNumber:n.eventSequenceNumber,rebuffAttempts:n.rebufferAttempts,rebuffDuration:n.rebufferDuration,rebuffToPlayDuration:n.rebufferToPlayDuration,severity:n.severity,errorCode:n.errorCode,duration:n.duration,cdnAddress:n.cdnAddress,dnsAddress:n.dnsAddress,videoSpecVersion:n.videoSpecVersion,applicationVersion:n.applicationVersion,middlewareVersion:n.middlewareVersion,firmwareVersion:n.firmwareVersion}),r}return O(t,e),t}(de),Le=function(e){function t(n){T(this,t);var r=w(this,e.call(this,ue.EVENT_TYPE.VOUCHER,n));return l(n.items,h(ce),"VoucherEvent#items"),l(n.voucherType,p(ue.VOUCHER_TYPE),"VoucherEvent#voucherType"),I(r,{items:n.items,itemCount:n.items.length,vType:n.voucherType,vCode:n.voucherCode,vAmount:n.voucherAmount,vId:n.voucherId,voucherStatus:n.voucherSucceeded?1:0,isInGame:n.isInGame}),r}return O(t,e),t}(de),De=U.get("KAMAJI EVENTS"),xe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(T(this,e),!Y.kamajiEventsUrl)throw new Error("kamajiEventsUrl not found in GC config! Set with Config.extend before constructing.");var n=10,r=60;I(this,{_baseUrl:Y.kamajiEventsUrl,_events:{},_eventCount:0,_maxBatchLimit:n,_maxTransmitInterval:r,_batchTimeoutId:null,batchLimit:E(t.batchLimit,n),transmitInterval:E(t.transmitInterval,r),AD_EVENT_TYPE:ue.AD_EVENT_TYPE,CART_EVENT_TYPE:ue.CART_EVENT_TYPE,COMMUNITY_MODIFY_ACTION:ue.COMMUNITY_MODIFY_ACTION,COMMUNITY_POST_ACTION:ue.COMMUNITY_POST_ACTION,COMMUNITY_POST_ATTACHMENT_TYPE:ue.COMMUNITY_POST_ATTACHMENT_TYPE,COMMUNITY_USER_ACTION:ue.COMMUNITY_USER_ACTION,COMMUNITY_USER_ROLE:ue.COMMUNITY_USER_ROLE,CONTENT_TYPE:ue.CONTENT_TYPE,CONTEXT_TYPE:ue.CONTEXT_TYPE,DEVICE_TYPE:ue.DEVICE_TYPE,DOWNLOAD_STATUS:ue.DOWNLOAD_STATUS,FRIEND_APP_CODE:ue.FRIEND_APP_CODE,GALLERY_VIEW_BUTTON_TYPE:ue.GALLERY_VIEW_BUTTON_TYPE,IMPACT:ue.IMPACT,IMPRESSION_TYPE:ue.IMPRESSION_TYPE,INTERACT_TYPE:ue.INTERACT_TYPE,ITEM_SUBTYPE:ue.ITEM_SUBTYPE,ITEM_TYPE:ue.ITEM_TYPE,LIST_ACTION:ue.LIST_ACTION,LIST_ITEM_SOURCE:ue.LIST_ITEM_SOURCE,LIST_TYPE:ue.LIST_TYPE,LIVE_ITEM_TYPE:ue.LIVE_ITEM_TYPE,OPTIMUS_EVENT_TYPE:ue.OPTIMUS_EVENT_TYPE,PURCHASE_TYPE:ue.PURCHASE_TYPE,RECOMMENDATION_TYPE:ue.RECOMMENDATION_TYPE,REVENUE_FINDING_METHOD:ue.REVENUE_FINDING_METHOD,SEARCH_TYPE:ue.SEARCH_TYPE,STORY_TYPE:ue.STORY_TYPE,STORY_CONTENT_TYPE:ue.STORY_CONTENT_TYPE,STREAM_SOURCE:ue.STREAM_SOURCE,STREAM_TYPE:ue.STREAM_TYPE,VIDEO_ACTION:ue.VIDEO_ACTION,VIDEO_ACTION_REASON:ue.VIDEO_ACTION_REASON,VIDEO_ERROR_SEVERITY:ue.VIDEO_ERROR_SEVERITY,VIDEO_PURCHASE_FORMAT:ue.VIDEO_PURCHASE_FORMAT,VOUCHER_TYPE:ue.VOUCHER_TYPE,Item:ce,ActivityPostEvent:pe,AdPromotionEvent:he,CartEvent:me,ClickEvent:_e,CommunityModifyEvent:ge,CommunityPostEvent:Ee,CommunityUserEvent:ye,DownloadEvent:ve,ErrorEvent:Te,ImpressionEvent:Ie,InteractEvent:Oe,ListEvent:we,LoggedInEvent:Se,LoggedOutEvent:be,OptimusEvent:Ae,PageViewEvent:Ce,PurchaseEvent:Ne,RecommendationEvent:Pe,SearchEvent:Re,UserVisibleErrorEvent:ke,VideoPreviewEvent:Ue,VideoStreamEvent:Me,VoucherEvent:Le})}return e.prototype.destroy=function(){this._batchTimeoutId&&(clearTimeout(this._batchTimeoutId),this._batchTimeoutId=null)},e.prototype.dispatch=function(e,t){var n=e.eventType,r=ue.EVENT_NAME[n];if(!r)return void De.warn("Attempted to dispatch event with unknown event type:",n);var o=ue.EVENT_SEND_IMMEDIATELY[n]||t;return o?void this._transmit(ue.EVENT_ENDPOINT[n],e):(this._events[r]=(this._events[r]||[]).concat(e),this._eventCount++,void(this._eventCount>=this.batchLimit?this._transmitBatch():this._updateTransmitTimeout()))},e.prototype._updateTransmitTimeout=function(){var e=this;this._batchTimeoutId||(this._batchTimeoutId=setTimeout(function(){e._transmitBatch()},1e3*this.transmitInterval))},e.prototype._transmitBatch=function(){if(this._batchTimeoutId&&(clearTimeout(this._batchTimeoutId),this._batchTimeoutId=null),0!==this._eventCount){for(var e=Object.keys(this._events).sort(),t={},n=0;n<e.length;n++)t[e[n]]=this._events[e[n]].reverse();this._events={},this._eventCount=0,this._transmit("batch",t)}},e.prototype._transmit=function(e,t){var n=new j("POST",this._baseUrl+e),r={"Content-Type":"application/json; charset=utf-8"},o="["+JSON.stringify(t)+"]";n.open(r,o).then(function(e){De.info("Event transmission successful!",e.status,e.response)}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};De.error("Event transmission failed!",e.status,e.response)})},e}(),Ye=function(){function e(t){T(this,e),this.deeplinker=t}return e.prototype.browseCategory=function(e,t,n){var r="psns:browse?category="+e+(t?"&type="+t:"")+(n?"&reward="+n:"");this.deeplinker.open(r)},e.prototype.browseProduct=function(e,t){var n="psns:browse?product="+e+(t?"&type="+t:"");this.deeplinker.open(n)},e.prototype.browseGames=function(){this.deeplinker.open("psns:browse?top=game")},e.prototype.browseVideos=function(){this.deeplinker.open("psns:browse?top=video")},e.prototype.browseComics=function(){this.deeplinker.open("psns:browse?top=comic")},e.prototype.browsePSM=function(){this.deeplinker.open("psns:browse?top=psm")},e.prototype.searchFor=function(e,t,n){var r="psns:browse?search="+e+"&q="+t+(n?"&scope="+n:"");this.deeplinker.open(r)},e.prototype.browseTarget=function(e){var t="psns:browse?target=plus"+(e?"&exp="+e:"");this.deeplinker.open(t)},e.prototype.browseGame=function(e){this.deeplinker.open("psns:browse?content="+e)},e.prototype.browseVideo=function(e){this.deeplinker.open("psns:browse?file="+e)},e.prototype.browseTrophies=function(e){this.deeplinker.open("psns:browse?comm="+e+"&pivod=trophy")},e.prototype.browseRanking=function(e){this.deeplinker.open("psns:browse?comm="+e+"&pivod=ranking")},e.prototype.redeemVoucher=function(e,t,n){var r=t&&n?"psns:redeem?code1="+e+"&code2="+t+"&code3="+n:"psns:redeem?code="+e;this.deeplinker.open(r)},e}(),je=function(){function e(){T(this,e),this.psns=new Ye(this)}return e.prototype.addListener=function(e){"undefined"!=typeof sce&&sce.addSystemEventListener("onLocationChange",e)},e.prototype.removeListener=function(e){"undefined"!=typeof sce&&sce.removeSystemEventListener("onLocationChange",e)},e.prototype.open=function(e){"undefined"!=typeof sce&&sce.launchApp(e)},e}(),Ve=U.get("SYSTEM"),Fe=function(){function e(){T(this,e),this._initialized=!1,this.deeplinker=new je,"undefined"!=typeof navigator&&navigator.sce&&"undefined"==typeof sce&&Ve.warn("PS4 environment was detected, but sce global is missing. Have you imported js_ex?")}return e.prototype.init=function(){this._initialized||("undefined"!=typeof sce&&sce.addSystemEventListener("onLocationChange",function(e){var t=~~e.session_id;sce.didFinishLocationChange(t)}),this._initialized=!0)},e.prototype.ready=function(){if("undefined"!=typeof sce){var e=~~o(location.search).load_id;sce.didFinishLoading(e)}},e}(),Ge=U.get("SYSTEM VOICE"),We=function(){function e(){T(this,e)}return e.prototype.show=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object.keys(e).length)return void Ge.warn("#show must be called with at least one button label!");var n={enter:e.enter,back:e.back,triangle:e.triangle,square:e.square,options:e.options,share:e.share,up:e.up,down:e.down,left:e.left,right:e.right,l1:e.l1,l2:e.l2,l3:e.l3,r1:e.r1,r2:e.r2,r3:e.r3,analogLeft:e.analogLeft,showUser:null==t.showUser||t.showUser,footerStyle:null!=t.footerStyle?t.footerStyle:"transparent"};"undefined"!=typeof sce&&sce.setFrameInfo(n)},e.prototype.hide=function(){"undefined"!=typeof sce&&sce.setFrameInfo({})},e}(),He=U.get("TRANSACT CLIENT"),Be=["error","resize","walletUpdate","initialized"],qe={autoInitializeTransact:!0,queryParams:{},layout:"flex",reportSuite:null,
smcid:null,emcid:null,etcid:null,etrid:null},Ke=function(){function e(t,n){var r=this;if(T(this,e),!t)throw new Error("iframe constructor parameter not found!");if(!Y.transactUrl)throw new Error("transactUrl was not found in GC config!Set with Config.extend before constructing.");I(this,{_transactUrl:Y.transactUrl,iframe:t,_clientId:i(),_activeRequests:{},_events:{},options:I({},qe,n),_deferredInitialize:null}),Be.forEach(function(e){r._events[e]=[]}),window.addEventListener("message",this._receiveMessageFromTransact.bind(this),!1),this.options.autoInitializeTransact&&this._initializeTransact()}return e.prototype._initializeTransact=function(e,t,r){if(this._deferredInitialize)return this._deferredInitialize.promise;var o=n(I({},qe.queryParams,this.options.queryParams,{nonce:r,clientId:this._clientId,layout:this.options.layout,smcid:this.options.smcid,emcid:this.options.emcid,etcid:this.options.etcid,etrid:this.options.etrid,reportSuite:this.options.reportSuite}));if(e){var i=t?e+"/"+t:e;this.iframe.src=""+this._transactUrl+i+o}else this.iframe.src=""+this._transactUrl+o;return this._deferredInitialize=y(),this._deferredInitialize.promise},e.prototype._generateRequest=function(e,t){var n=this,r=i();return this._activeRequests[r]=y(),this._initializeTransact(e,t,r).then(function(){var o={nonce:r,action:"replaceRoute",clientId:n._clientId,route:e.replace("/","."),model:t};return n.iframe.contentWindow.postMessage(JSON.stringify(o),"*"),n._activeRequests[r].promise})},e.prototype.addFunds=function(){return this._generateRequest("add-funds")},e.prototype.managePaymentInstruments=function(){return this._generateRequest("payment-instruments/settings")},e.prototype.addPaymentInstrument=function(){return this._generateRequest("payment-instruments/add")},e.prototype.redeemVoucher=function(){return this._generateRequest("voucher")},e.prototype.changePaymentInstrument=function(){return this._generateRequest("payment-instruments/select-instrument")},e.prototype.viewTransactionHistory=function(){return this._generateRequest("transactions")},e.prototype.germanAgeVerification=function(){return this._generateRequest("german-age-verification")},e.prototype.verifyCVV=function(e){return this._generateRequest("cvv",e)},e.prototype._receiveMessageFromTransact=function(e){var t=this,n=void 0;try{n=JSON.parse(e.data)}catch(e){}var r=n&&n.clientId===this._clientId;if(r){var o=n.nonce;delete n.nonce,delete n.clientId,o&&this._activeRequests[o]?("error"===n.action||"cancel"===n.action?this._activeRequests[o].reject(n):this._activeRequests[o].resolve(n),this._activeRequests[o].promise.catch().then(function(){delete t._activeRequests[o]})):"initialized"===n.action?this._deferredInitialize.resolve():this.trigger(n.action,n)}},e.prototype.on=function(e,t){return this._events[e]?void(this._events[e].indexOf(t)===-1&&this._events[e].push(t)):void He.warn("Attempted to register TransactClient handler for unknown event:",e)},e.prototype.off=function(e,t){if(this._events[e]){if(!t)return void(this._events[e].length=0);var n=this._events[e].indexOf(t);n>=0&&this._events[e].splice(n,1)}},e.prototype.trigger=function(e,t){return this._events[e]?void this._events[e].forEach(function(e){return e(t)}):void He.warn("Attempted to trigger unknown TransactClient event:",e)},e}(),ze=U.get("USER SESSION"),Je=function(){function e(t){if(T(this,e),t||ze.warn('Constructor parameter "auth" not found! Some calls may fail.'),!Y.kamajiHostUrl)throw new Error("kamajiHostUrl not found in GC config! Set with Config.extend before constructing.");I(this,{_auth:t,_hostUrl:Y.kamajiHostUrl,_data:null,isActive:!1,isGuest:!1})}return e.prototype._setData=function(e){this._data=e,Y.countryLanguageAge=e?e.country+"/"+e.language+"/"+e.age:void 0},e.prototype.createAuthCodeSession=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._hostUrl+"user/session";return this._auth.fetchAuthCode().then(function(e){var o={"X-Alt-Referer":e.redirectUrl},i=r(I({code:e.code,client_id:Y.clientId,duid:Y.duid},t)),s=new H("POST",n);return s.open(o,i)}).then(function(t){return e.isActive=!0,e.isGuest=!1,e._setData(t.response.data),t.response.header})},e.prototype.createAccessTokenSession=function(){var e=this,t=this._hostUrl+"user/session";return this._auth.fetchAccessToken().then(function(e){var n={},o=r({token:encodeURIComponent(e)}),i=new H("POST",t);return i.open(n,o)}).then(function(t){return e.isActive=!0,e.isGuest=!1,e._setData(t.response.data),t.response.header})},e.prototype.createGuestSession=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._hostUrl+"user/session",o={},i=r(I({country_code:"US",language_code:"en",date_of_birth:"1981-01-01"},t)),s=new H("POST",n);return s.open(o,i).then(function(t){return e.isActive=!0,e.isGuest=!0,e._setData(t.response.data),t.response.header})},e.prototype.getData=function(){return this.isActive?this._data:null},e.prototype.getLocale=function(){if(!this.isActive)return null;var e=this._data,t=e.language,n=e.country;return t+"-"+n},e.prototype.deleteSession=function(){var e=this,t=this._hostUrl+"user/session",n=new H("DELETE",t);return n.open().then(function(){e._setData(null),e.isActive=!1})},e.prototype.fetchProfile=function(){var e=this._hostUrl+"user/profile",t=new H("GET",e);return t.open()},e}();e.CartService=B,e.ClientConfigService=K,e.CommerceMetadataService=z,e.CuratorService=$,e.EntitlementService=X,e.FeedsService=ee,e.InputService=ae,e.KamajiEventsService=xe,e.SystemService=Fe,e.SystemVoiceService=We,e.TransactClientService=Ke,e.UserSessionService=Je,e.AbstractAuth=L,e.PS4Auth=D,e.PSBrowserAuth=F,e.WebIframeAuth=W,e.Config=Y,e.Logger=U,e.createQueryString=n,e.createPostBody=r,e.parseQueryString=o,e.generateUUID=i,e.KamajiXHRPromise=H,e.XHRPromise=j,Object.defineProperty(e,"__esModule",{value:!0})}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.SneiWebAuth=e()}}(function(){return function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/node_modules/@sie/frames/src/ExternalOauth.js":[function(e,t,n){function r(e){this._requestID=e.requestID,this._endpoint=e.url}r.prototype.request=function(e){this._handleCancelOnBack(e),this._goToUrl()},r.prototype._goToUrl=function(){window.location.href=this._endpoint},r.prototype._handleCancelOnBack=function(e){var t=this;this._onPageShow=function(n){window.removeEventListener("pageshow",t._onPageShow),n.persisted&&"function"==typeof e&&e({requestID:t._requestID,error:new Error("Request was cancelled on back")})},window.addEventListener("pageshow",this._onPageShow)},t.exports=r},{}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/node_modules/@sie/frames/src/FrameFactory.js":[function(e,t,n){function r(){}var o=e("./IframeOauth"),i=e("./WindowOauth"),s=e("./ExternalOauth"),a=e("./utils");r.prototype.makeFrame=function(e){if(e=e||{},!e.url)throw new Error("must provide frame with a url");var t=e.frameType||"external";switch(e.requestID=this._generateRequestId(t,e.requestType),e.url=e.redirectKey?this._decorateRedirectUri(e):this._addStateAndNonceParam(e),t){case"iframe":return new o(e);case"window":return new i(e);case"external":default:return new s(e)}},r.prototype._generateRequestId=function(e,t){var n=t||"",r=a.generateUUID();return n+=""!==n?"_"+e:e,n+="_request_"+r},r.prototype._serializeOptions=function(e,t,n){var r=["requestID","baseUrl","returnRoute","targetOrigin","excludeQueryParams"];return e=e||{},t=t||"=",n=n||"&",r.reduce(function(r,o){var i=e[o],s=!!i;return s&&(r.result+=(0===r.numberOfValues?"":n)+o+t+i,r.numberOfValues+=1),r},{result:"",numberOfValues:0}).result},r.prototype._addStateAndNonceParam=function(e){var t=e.url,n=this._serializeOptions(e,"~~~","_._");return t=a.updateQueryParam(t,"state",n),t=a.updateQueryParam(t,"nonce",Date.now())},r.prototype._decorateRedirectUri=function(e){var t=e.redirectKey,n="?"+this._serializeOptions(e);return a.updateQueryParam(e.url,t,encodeURIComponent(n))},t.exports=r},{"./ExternalOauth":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/node_modules/@sie/frames/src/ExternalOauth.js","./IframeOauth":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/node_modules/@sie/frames/src/IframeOauth.js","./WindowOauth":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/node_modules/@sie/frames/src/WindowOauth.js","./utils":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/node_modules/@sie/frames/src/utils.js"}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/node_modules/@sie/frames/src/IframeOauth.js":[function(e,t,n){function r(e){this._requestID=e.requestID,this._parentElement=e.parent||document.body,this._endpoint=e.url,this._requester=null,this._className=e.className,this._isHidden=!!e.shouldHide,this._timeoutId=null,this._msTimeout=e.msTimeout||2e4}r.prototype._addIframe=function(){this._requester=document.createElement("iframe"),this._requester.setAttribute("frameborder",0),this._requester.setAttribute("id",this._requestID),this._className&&this._requester.setAttribute("class",this._className),this._isHidden&&(this._requester.style.display="none",this._startErrorTimeout()),this._requester.setAttribute("name",Date.now()),this._parentElement.appendChild(this._requester),this._requester.src=this._endpoint},r.prototype._startErrorTimeout=function(){this._timeoutId=setTimeout(function(){"function"==typeof this._onMessage&&this._onMessage({data:{requestID:this._requestID,error:new Error("Redirect was not successful")}})}.bind(this),this._msTimeout)},r.prototype._removeIFrame=function(){this._parentElement.removeChild(this._requester),this._parentElement=null,this._requester=null},r.prototype._done=function(){this._onMessage&&(window.removeEventListener("message",this._onMessage,!1),clearTimeout(this._timeoutId),this._onMessage=null,this._removeIFrame())},r.prototype._waitForResponse=function(e){this._onMessage=function(t){var n=t.data,r=n.requestID===this._requestID;r&&(e(n),this._done())}.bind(this),window.addEventListener("message",this._onMessage,!1)},r.prototype.request=function(e){return this._addIframe(),this._waitForResponse(e),this._requestID},r.prototype.cancel=function(){this._done()},t.exports=r},{}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/node_modules/@sie/frames/src/WindowOauth.js":[function(e,t,n){function r(e){this._requestID=e.requestID,this._endpoint=e.url,this._requester=null}r.prototype._done=function(){window.removeEventListener("message",this._onMessage,!1),this._requester.close(),this._requester=null},r.prototype._waitForResponse=function(e){this._onMessage=function(t){var n=t.data,r=n.requestID===this._requestID;r&&(e(n),this._done())}.bind(this),window.addEventListener("message",this._onMessage,!1)},r.prototype.request=function(e){return this._requester=window.open(this._endpoint),this._waitForResponse(e),this._requestID},r.prototype.cancel=function(){this._done()},t.exports=r},{}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/node_modules/@sie/frames/src/main.js":[function(e,t,n){var r=e("./FrameFactory"),o=new r;t.exports={go:function(e,t){var n=o.makeFrame(e);return t="function"==typeof t?t:function(){},n.request(t),n}}},{"./FrameFactory":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/node_modules/@sie/frames/src/FrameFactory.js"}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/node_modules/@sie/frames/src/utils.js":[function(e,t,n){function r(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)});return t}function o(e,t,n){var r,o,i,s,a=e.indexOf("?")!==-1;return a?(r=new RegExp("(\\b"+t+"\\b)=([^&]+)&*"),o=e.match(r),i=o&&3===o.length,i?(s=o[2],e.replace(s,s+n)):e+"&"+t+"="+encodeURIComponent(n)):e+"?"+t+"="+encodeURIComponent(n)}t.exports={generateUUID:r,updateQueryParam:o}},{}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/AuthRequests.js":[function(e,t,n){function r(e){this._oauthUrls=e.oauthUrls,this._requester=e.requester,this._interWindowEvents=e.interWindowEvents}r.prototype._makePayload=function(e,t){var n=this._oauthUrls[e](t);return t=t||{},{url:n,frameType:t.frameType,parent:t.parent,baseUrl:t.baseUrl,targetOrigin:t.targetOrigin,returnRoute:t.returnRoute,excludeQueryParams:t.excludeQueryParams}},r.prototype.fetchCodeOrToken=function(e){var t=this._makePayload("getCodeOrTokenUrl",e);return t.shouldHide=!0,this._requester.makeRequest("fetchCodeOrToken",t)},r.prototype.showSignInPage=function(e){var t=this._makePayload("getSignInUrl",e),n=this._interWindowEvents;return t.shouldHide=!1,this._requester.makeRequest("signIn",t).then(function(e){return n.trigger(n.EVENTS.SIGN_IN),e})},r.prototype.signOut=function(e){var t=this._makePayload("getSignOutUrl",e),n=this._interWindowEvents;return t.shouldHide=!0,this._requester.makeRequest("signOut",t).then(function(e){return n.trigger(n.EVENTS.SIGN_OUT),e})},r.prototype.cancel=function(e){this._requester.cancelRequest(e)},t.exports=r},{}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/CustomEventPolyfillForIE.js":[function(e,t,n){!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}return"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}()},{}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/FrameRequester.js":[function(e,t,n){function r(e){o=u.getPromise(),e=e||{},this.frame=e.frame||a,this.defaultParams={url:null,frameType:e.frameType||"window",requestType:null,baseUrl:e.baseUrl||null,returnRoute:e.returnRoute||null,redirectKey:e.redirectKey||null,parent:e.parent||null,targetOrigin:e.targetOrigin||null,shouldHide:!1,excludeQueryParams:e.excludeQueryParams||null},this._activeRequests={}}var o,i=e("./utils"),s=i.outterJoin,a=e("@sie/frames"),u=e("./Promise");r.prototype.makeRequest=function(e,t){if(this._activeRequests[e])return this._activeRequests[e].inFlightRequest;var n,r=s(this.defaultParams,t),i=new o(function(t,o){n=this.frame.go(r,function(n){n.error?o(n):t(n),this._activeRequests[e]=null}.bind(this))}.bind(this));return this._activeRequests[e]={requestFrame:n,inFlightRequest:i},i},r.prototype.cancelRequest=function(e){var t=this._activeRequests[e];t&&(t.requestFrame.cancel(),this._activeRequests[e]=null)},t.exports=r},{"./Promise":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/Promise.js","./utils":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/utils.js","@sie/frames":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/node_modules/@sie/frames/src/main.js"}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/ImplicitGrantWebAuth.js":[function(e,t,n){function r(e){o=i.getPromise(),this.requests=e.authRequests,this._accessToken=null,this._expiration=0}var o,i=e("./Promise"),s=1e3,a=6e4,u=120;r.prototype.setAccessToken=function(e,t){e&&(t||console.warn("exiresIn missing, assuming access token is good for two minutes"),this._saveAccessToken({access_token:e,expires_in:t||u,bypassBuffer:!0}))},r.prototype._saveAccessToken=function(e){var t=e.bypassBuffer?0:a;return this._accessToken=e.access_token,this._expiration=Date.now()+parseInt(e.expires_in,10)*s-t,window.addEventListener("psn-sign-out",this.clearAccessToken.bind(this)),this._accessToken},r.prototype.clearAccessToken=function(){this._accessToken=null,this._expiration=0},r.prototype.checkAuthState=function(e,t){return this.fetchAccessToken().then(function(){return e&&e(),!0}).catch(function(){return t&&t(),!1})},r.prototype.fetchAccessToken=function(e){if(this._accessToken){var t=this._expiration>Date.now();if(t)return o.resolve(this._accessToken);this.clearAccessToken()}return this.requests.fetchCodeOrToken(e).then(this._saveAccessToken.bind(this))},r.prototype.showSignInPage=function(e){return this.requests.showSignInPage(e).then(this._saveAccessToken.bind(this))},r.prototype.signOut=function(){return this.requests.signOut().then(this.clearAccessToken.bind(this))},t.exports=r},{"./Promise":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/Promise.js"}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/InterWindowEvents.js":[function(e,t,n){e("./CustomEventPolyfillForIE");var r="psnAuthInterWindowEvent";t.exports={EVENTS:{SIGN_IN:"psn-sign-in",SIGN_OUT:"psn-sign-out"},start:function(){this._handleInterWindowDispatch=function(e){var t;e.key===r&&e.newValue&&(t=e.newValue,document.hasFocus()||window.dispatchEvent(new CustomEvent(t)))},window.addEventListener("storage",this._handleInterWindowDispatch)},stop:function(){window.removeEventListener("storage",this._handleInterWindowDispatch)},trigger:function(e){localStorage.setItem(r,e),localStorage.removeItem(r)}}},{"./CustomEventPolyfillForIE":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/CustomEventPolyfillForIE.js"}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/OauthUrls.js":[function(e,t,n){function r(e){var t="np"===e?".":"."+e+".";return"https://auth.api"+t+"sonyentertainmentnetwork.com/2.0"}function o(e){e=e||{};var t=e.params;this.baseUrl=e.endpoint||r(e.line||"e1-np"),this.defaultQueryParams=t,this.signinUrl=this.getSignInUrl(t),this.signoutUrl=this.getSignOutUrl(t),this.codeOrTokenUrl=this.getCodeOrTokenUrl(t)}var i=e("./utils"),s=i.serializeQueryParams,a=i.outterJoin,u=i.union;o.prototype._getUrl=function(e,t){return this.baseUrl+e+s(t)},o.prototype.getRedirectKey=function(){return"redirect_uri"},o.prototype.getSignInUrl=function(e){if(!e&&this.signinUrl)return this.signinUrl;var t={response_type:"code",scope:[],client_id:void 0,redirect_uri:void 0,duid:void 0,prompt:"login",request_locale:void 0,service_entity:void 0,renderMode:void 0,layout_type:void 0,disableLinks:void 0,hidePageElements:void 0,service_logo:void 0,tp_psn:void 0,noEVBlock:void 0,displayFooter:void 0,mid:void 0,ui:void 0};return e=u(this.defaultQueryParams,e),e=a(t,e),this._getUrl("/oauth/authorize",e)},o.prototype.getCodeOrTokenUrl=function(e){if(!e&&this.codeOrTokenUrl)return this.codeOrTokenUrl;var t={response_type:"code",scope:[],client_id:void 0,redirect_uri:void 0,prompt:"none"};return e=u(this.defaultQueryParams,e),e=a(t,e),this._getUrl("/oauth/authorize",e)},o.prototype.getSignOutUrl=function(){if(this.signoutUrl)return this.signoutUrl;var e={client_id:void 0,redirect_uri:void 0,prompt:"none"},t=a(e,this.defaultQueryParams);return this._getUrl("/signout",t)},t.exports=o},{"./utils":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/utils.js"}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/Promise.js":[function(e,t,n){var r=null;t.exports={setPromise:function(e){r=e},getPromise:function(){return r}}},{}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/SneiWebAuth.js":[function(e,t,n){function r(e){e=e||{};var t,n,r=e.options||{},o=e.params||{},l=new i(e),p="code"!==o.response_type;return r.redirectKey=l.getRedirectKey(),f.start(),t=new a({oauthUrls:l,requester:new s(r),interWindowEvents:f}),n={authRequests:t},p?new u(n):new c(n)}function o(e,t){"use strict";return l.setPromise(t||window.Promise),this instanceof o?r(e):new o(e)}var i=e("./OauthUrls"),s=e("./FrameRequester"),a=e("./AuthRequests"),u=e("./ImplicitGrantWebAuth"),c=e("./WebAuth"),l=e("./Promise"),f=e("./InterWindowEvents");t.exports=o},{"./AuthRequests":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/AuthRequests.js","./FrameRequester":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/FrameRequester.js","./ImplicitGrantWebAuth":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/ImplicitGrantWebAuth.js","./InterWindowEvents":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/InterWindowEvents.js","./OauthUrls":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/OauthUrls.js","./Promise":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/Promise.js","./WebAuth":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/WebAuth.js"}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/WebAuth.js":[function(e,t,n){function r(e){o=i.getPromise(),this.requests=e.authRequests,this.authResponse=null}var o,i=e("./Promise");r.prototype._useCachedAuthResponseOnce=function(){return o.resolve(this.authResponse).then(function(e){return this._clearAuthResponse(),e}.bind(this))},r.prototype._clearAuthResponse=function(){this.authResponse=null},r.prototype._saveAuthResponse=function(e){return this.authResponse=e,window.addEventListener("psn-sign-out",this._clearAuthResponse.bind(this)),this.authResponse},r.prototype.checkAuthState=function(e,t){return this.fetchAuthCode().then(function(){return e&&e(),!0}).catch(function(){return t&&t(),!1})},r.prototype.fetchAuthCode=function(e){var t=null!==this.authResponse;return t?this._useCachedAuthResponseOnce():this.requests.fetchCodeOrToken(e)},r.prototype.showSignInPage=function(e){return this.requests.showSignInPage(e).then(this._saveAuthResponse.bind(this))},r.prototype.signOut=function(){return this.requests.signOut().then(this._clearAuthResponse.bind(this))},t.exports=r},{"./Promise":"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/Promise.js"}],"/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/utils.js":[function(e,t,n){function r(e,t){if(!e)return"";var n=Object.keys(e).reduce(function(t,n){var r=e[n];return r instanceof Object&&!(r instanceof Array)?t:(null!==r&&void 0!==r&&(r instanceof Array&&(r=r.join(",")),t.push(n+"="+encodeURIComponent(r))),t)}.bind(this),[]),r=n.join("&");return r.length>0&&!t&&(r="?"+r),r}function o(e){return r(e,!1)}function i(e){return r(e,!0)}function s(e,t){var n=Object.keys(e),r={};return t=t||{},n.forEach(function(n){"undefined"!=typeof t[n]?r[n]=t[n]:r[n]=e[n]}),r}function a(e,t){var n,r={};for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r}function u(e){return a(e,{})}t.exports={serializeQueryParams:o,serializeBody:i,union:a,outterJoin:s,copy:u}},{}]},{},["/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/SneiWebAuth.js"])("/drone/src/github.snei.sony.com/dkan/snei-grc-interfaces/src/SneiWebAuth.js")}),function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.authTask,n=e.displayNavigationBarTask,r=void 0===n?b.default:n,o=e.jsExceptionHandler,i=void 0===o?C.default:o,a=e.stallForMock,c=void 0===a?P.default:a;window.sbWeb=window.sbWeb||{};var f=new s.default(u.default,l.default,p.default,t,r,h.default,_.default,E.default,v.default,I.default,w.default,c);window.sbWeb.preflightRunner=f,window.sbWeb.jsExceptionHandler=i.listenForUnhandledErrors()}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("@sie/valkyrie-preflight/lib/preflight-runner"),s=r(i),a=e("./tasks/store-startup-event"),u=r(a),c=e("@sie/ember-cli-blackhawk-preflight/lib/tasks/preflight-constants"),l=r(c),f=e("@sie/ember-cli-blackhawk-preflight/lib/tasks/load-config"),p=r(f),d=e("@sie/ember-cli-blackhawk-preflight/lib/tasks/add-starblaster-meta-data"),h=r(d),m=e("@sie/ember-cli-blackhawk-preflight/lib/tasks/fetch-account-info"),_=r(m),g=e("@sie/ember-cli-blackhawk-preflight/lib/tasks/fetch-locale-info"),E=r(g),y=e("@sie/ember-cli-blackhawk-preflight/lib/tasks/include-timing-polyfill"),v=r(y),T=e("@sie/ember-cli-blackhawk-preflight/lib/tasks/initialize-timing"),I=r(T),O=e("@sie/ember-cli-blackhawk-preflight/lib/tasks/fetch-signin-button-label"),w=r(O),S=e("@sie/ember-cli-blackhawk-preflight/lib/tasks/noop"),b=r(S),A=e("./standalone-preflight-js-exception-handler"),C=r(A),N=e("./tasks/stall-for-mock-noop"),P=r(N);p.default.deps&&p.default.deps.push("stallForMock")},{"./standalone-preflight-js-exception-handler":2,"./tasks/stall-for-mock-noop":4,"./tasks/store-startup-event":5,"@sie/ember-cli-blackhawk-preflight/lib/tasks/add-starblaster-meta-data":16,"@sie/ember-cli-blackhawk-preflight/lib/tasks/fetch-account-info":17,"@sie/ember-cli-blackhawk-preflight/lib/tasks/fetch-locale-info":18,"@sie/ember-cli-blackhawk-preflight/lib/tasks/fetch-signin-button-label":19,"@sie/ember-cli-blackhawk-preflight/lib/tasks/include-timing-polyfill":20,"@sie/ember-cli-blackhawk-preflight/lib/tasks/initialize-timing":21,"@sie/ember-cli-blackhawk-preflight/lib/tasks/load-config":23,"@sie/ember-cli-blackhawk-preflight/lib/tasks/noop":24,"@sie/ember-cli-blackhawk-preflight/lib/tasks/preflight-constants":25,"@sie/valkyrie-preflight/lib/preflight-runner":33}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e&&e.errorMetadata&&e.errorMetadata.fileName&&e.errorMetadata.fileName.indexOf("sb-toolbar")>=0}Object.defineProperty(n,"__esModule",{value:!0});var i=e("@sie/ember-cli-blackhawk-preflight/lib/js-exception-handler"),s=r(i);n.default=new s.default({errorFilter:o})},{"@sie/ember-cli-blackhawk-preflight/lib/js-exception-handler":15}],3:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("./setup-preflight"),i=r(o),s=e("@sie/ember-cli-blackhawk-preflight/lib/tasks/initiate-auth"),a=r(s),u=e("./standalone-preflight-js-exception-handler"),c=r(u);(0,i.default)({authTask:a.default,jsExceptionHandler:c.default})},{"./setup-preflight":1,"./standalone-preflight-js-exception-handler":2,"@sie/ember-cli-blackhawk-preflight/lib/tasks/initiate-auth":22}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("@sie/valkyrie-preflight/lib/preflight-operation"),i=r(o);n.default=new i.default({name:"stallForMock",deps:[],execute:function(){}})},{"@sie/valkyrie-preflight/lib/preflight-operation":32}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("@sie/valkyrie-preflight/lib/preflight-operation"),i=r(o),s=function(){try{var e="test";return window.sessionStorage.setItem(e,e),window.sessionStorage.removeItem(e),!0}catch(e){return!1}},a="starblaster-startup";n.default=new i.default({name:"storeStartupEvent",deps:[],execute:function(){if(s()){var e={time:new Date,url:window.location.href};window.sessionStorage.setItem(a,JSON.stringify(e))}}})},{"@sie/valkyrie-preflight/lib/preflight-operation":32}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){this.acctInfoKey=e.acctInfoKey,this.isSessionStorageSupported=s()}function i(e){var t=(0,u.default)(e.dateOfBirth),n=e.subaccountDetails&&e.subaccountDetails.chatControl,r=e.subaccountDetails&&e.subaccountDetails.userGeneratedContentControl;return{onlineId:e.onlineId,language:e.language,isUnder:t<=17,legalCountry:e.legalCountry,isSubAccount:!!e.subaccountDetails,chatControl:n,ugmControl:r}}function s(){var e="test";try{return window.sessionStorage.setItem(e,e),window.sessionStorage.removeItem(e),!0}catch(e){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.extractAccountInfoToCache=i;var a=e("./get-age"),u=r(a);o.prototype.getCachedAccountInfo=function(){var e;this.isSessionStorageSupported&&(e=sessionStorage.getItem(this.acctInfoKey));try{return e&&JSON.parse(e)}catch(e){return!1}},o.prototype.clearCache=function(){this.isSessionStorageSupported&&sessionStorage.clear()},o.prototype.cacheAccountInfo=function(e){return this.isSessionStorageSupported&&(sessionStorage.removeItem(this.acctInfoKey),sessionStorage.setItem(this.acctInfoKey,JSON.stringify(e))),e},n.default=o},{"./get-age":9}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e+"?cacheBust="+Date.now()}function i(e,t){var n=o(e);return new GrandCentral.XHRPromise("GET",n).open({Authorization:"Bearer "+t},null,{withCredentials:!0}).then(function(e){return(0,s.extractAccountInfoToCache)(e.response)})}Object.defineProperty(n,"__esModule",{value:!0}),n.fetchAccountInfo=i,n.default=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=t.accounts_url,s=new a.default(t),u="e1-np"===t.line&&"true"===(0,c.default)("clearSessionStorage");u&&s.clearCache();var l=s.getCachedAccountInfo();return l&&l.onlineId?Promise.resolve(l):r?e.fetchAccessToken().then(function(e){return n.measurePromise("preflight-account-api",i(o,e))}).then(function(e){return u||s.cacheAccountInfo(e),e}).catch(function(e){return{}}):Promise.resolve({})};var s=e("./api-cache-util"),a=r(s),u=e("./get-query-param"),c=r(u)},{"./api-cache-util":6,"./get-query-param":10}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t={};return Object.keys(e).forEach(function(n){t[n.toLowerCase()]=e[n]}),t}function i(e,t){var n=e.toLowerCase(),r=n;return"zh"===e&&("tw"===t||"hk"===t?r=l:"cn"===t&&(r=c)),r}function s(e,t,n,r){for(var o=null,s=t.toUpperCase(),a=0;a<n.length;a++){var u=n[a].split("-"),c=u[0],l=i(c,t),f=l+"-"+t;if(e[f]){o=l+"-"+s;break}}return null===o&&r[t]&&(o=r[t]),o||p}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,r,i){var a=o(t.supported_locales),c=(0,u.default)("locale"),l=t&&"e1-np"===t.line?(0,u.default)("geoip"):null,f=t.geoCountryCode||l,h=t.platform.userLanguagePrefs,m=t.country_to_locale_mapping||{},_=e.language,g=p,E=p,y=_||p;c&&a[c.toLowerCase()]?(g=c,E=c,y=c):_&&a[_.toLowerCase()]?(g=_,E=_):f&&(g=s(a,f.toLowerCase(),h,m),E=g);var v=a[g.toLowerCase()]||d,T=v.gensen,I=v.roadster,O=v.grandCentralTelemetry,w=v.caponeLanguageId,S=v.caponeCountryCode,b=n.assetsUrl,A=""+b+v.fileName,C=new GrandCentral.XHRPromise("GET",A).open({},null,{withCredentials:!0}).then(function(e){if("string"==typeof e.response){console.warn("Config file was not parsed.  This probably means the server returned it with a content type other than application/json.");try{return JSON.parse(e.response)}catch(e){throw new Error("Error parsing JSON of "+A+": "+e.message)}}return e.response}).then(function(e){return i&&(e.msg_sign_in=i),{userLocale:E,gensenLocale:T,roadsterLocale:I,grandCentralTelemetryLocale:O,caponeLanguageId:w,caponeCountryCode:S,gensenStrings:e,accountLanguage:y}}).catch(function(){});return r.measurePromise("preflight-i18n-files",C),C};var a=e("./get-query-param"),u=r(a),c="zh-Hans",l="zh-Hant",f="en",p="en-US",d={gensen:p,roadster:f,grandCentralTelemetry:"en_US",caponeLanguageId:1,caponeCountryCode:"us"}},{"./get-query-param":10}],9:[function(e,t,n){"use strict";function r(e){var t=new Date,n=new Date(e),r=t.getFullYear()-n.getFullYear(),o=t.getMonth()-n.getMonth();return(o<0||0===o&&t.getDate()<n.getDate())&&r--,r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{}],10:[function(e,t,n){"use strict";function r(e){for(var t,n=[],r=window.location.search.substr(1).split("&"),o=0;o<r.length;o++)n=r[o].split("="),
n[0]===e&&(t=decodeURIComponent(n[1]));return t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{}],11:[function(e,t,n){"use strict";function r(e){var t=document.getElementById(e),n=document.createElement("a");if(n.href=t.src,n.origin)return n.origin;var r=n.protocol+"//"+n.hostname,o=n.port;return o&&"443"!==o&&(r+=":"+o),r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{}],12:[function(e,t,n){"use strict";function r(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{}],13:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../addon/lib/get-query-param");Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r(o).default}})},{"../addon/lib/get-query-param":10}],14:[function(e,t,n){"use strict";function r(){var e=window.navigator;return e.languages||[e.language||e.userLanguage]}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{}],15:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.map(function(e){return e.toString()}).join("\n")}function i(e,t){var n=e&&e.toString()||t;return"[object Object]"===n&&t&&(n=t),n}function s(e){var t=e.stack,n=e.buildVersion,r=void 0===n?"v3.0.251_cbafcbd":n,o=e.message,i=e.fileName,s=e.lineNum,a=e.colNum;return{stack:t,errorMetadata:{buildVersion:r,message:o,fileName:i,lineNum:s,colNum:a}}}function a(e,t,n,r,a){var u={offline:!0};return l.default.fromError(e,u).then(function(u){var c=u[0]||{};return s({stack:o(u),message:i(e,t),fileName:c.fileName||n,lineNum:c.lineNumber||r,colNum:c.columnNumber||a})}).catch(function(){return s({message:i(e,t),fileName:n,lineNum:r,colNum:a})})}function u(e){e=e||{},this._jsExceptions=[],this._processCallback=null,this._errorFilter=e.errorFilter}Object.defineProperty(n,"__esModule",{value:!0});var c=e("stacktrace-js"),l=r(c);u.prototype.listenForUnhandledErrors=function(){var e=this,t=window.onerror;return window.sbWeb.preflightRunner.getPromise().catch(this.handleError.bind(this)),window.onerror=function(n,r,o,i,s){t&&t.apply(null,arguments),e.handleError(s,n,r,o,i)},this},u.prototype.handleError=function(e,t,n,r,o){if(!e||"HandledError"!==e.name&&"TransitionAborted"!==e.name){var i=a(e,t,n,r,o);this._processCallback?i.then(function(e){this._invokeProcessCallback([e])}.bind(this)):this._jsExceptions.push(i)}},u.prototype.startProcessingJsExceptions=function(e){return this._processCallback=e,this._processStoredExceptions()},u.prototype._processStoredExceptions=function(){return Promise.all(this._jsExceptions).then(function(e){e.length&&(this._invokeProcessCallback(e),this._jsExceptions=[])}.bind(this))},u.prototype._invokeProcessCallback=function(e){this._errorFilter&&(e=e.filter(this._errorFilter)),this._processCallback(e)},n.default=u},{"stacktrace-js":48}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("@sie/valkyrie-preflight/lib/preflight-operation"),i=r(o);n.default=new i.default({name:"addStarblasterMetaData",deps:[],execute:function(){window.sbWeb.version="v3.0.251_cbafcbd"}})},{"@sie/valkyrie-preflight/lib/preflight-operation":32}],17:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("@sie/valkyrie-preflight/lib/preflight-operation"),i=r(o),s=e("../../addon/lib/fetch-account-info"),a=r(s);n.default=new i.default({name:"fetchAccountInfo",deps:["initiateAuth","loadConfig","initializeTiming"],execute:function(){return a.default.apply(void 0,arguments)}})},{"../../addon/lib/fetch-account-info":7,"@sie/valkyrie-preflight/lib/preflight-operation":32}],18:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("@sie/valkyrie-preflight/lib/preflight-operation"),i=r(o),s=e("../../addon/lib/fetch-locale-info"),a=r(s);n.default=new i.default({name:"fetchLocaleInfo",deps:["fetchAccountInfo","loadConfig","preflightConstants","initializeTiming","fetchSigninButtonLabel"],execute:function(){return a.default.apply(void 0,arguments)}})},{"../../addon/lib/fetch-locale-info":8,"@sie/valkyrie-preflight/lib/preflight-operation":32}],19:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return new Promise(function(t){window.sbWeb&&window.sbWeb.getLocale?window.sbWeb.getLocale(e,t):t()})}Object.defineProperty(n,"__esModule",{value:!0});var i=e("@sie/valkyrie-preflight/lib/preflight-operation"),s=r(i),a=e("../get-query-param"),u=r(a),c="en-US";n.default=new s.default({name:"fetchSigninButtonLabel",deps:["loadConfig"],execute:function(e){var t=e.supported_locales,n=Object.keys(t);return o(n).then(function(e){var r=!e||n.indexOf(e)<0;r&&(e=c);var o=(0,u.default)("locale"),i=o||e,s=t[i]||t[c],a=s.signInLabel;return a}.bind(this))}})},{"../get-query-param":13,"@sie/valkyrie-preflight/lib/preflight-operation":32}],20:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("@sie/valkyrie-preflight/lib/preflight-operation"),i=r(o),s=e("usertiming"),a=r(s);n.default=new i.default({name:"includeTimingPolyfill",execute:function(){return a.default}})},{"@sie/valkyrie-preflight/lib/preflight-operation":32,usertiming:49}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("@sie/valkyrie-preflight/lib/preflight-operation"),a=r(s),u="-start",c="-error",l=function(){function e(){o(this,e)}return i(e,[{key:"time",value:function(e){if(!e)return void console.error("timing.time needs timeName");var t=e+u;this.mark(t)}},{key:"timeEnd",value:function(e){if(!e)return void console.error("timing.timeEnd needs timeName");var t=e+u;this.measure(e,t)}},{key:"mark",value:function(){var e;return(e=window.performance).mark.apply(e,arguments)}},{key:"measure",value:function(){var e;return(e=window.performance).measure.apply(e,arguments)}},{key:"measurePromise",value:function(e,t){var n=this;return e?(this.time(e),t.then(function(){n.timeEnd(e)}).catch(function(){var t=e+u,r=e+c;n.measure(r,t)}),t):(console.error("timing.measurePromise needs timeName"),t)}},{key:"clearMarks",value:function(){var e;return(e=window.performance).clearMarks.apply(e,arguments)}},{key:"clearMeasures",value:function(){var e;return(e=window.performance).clearMeasures.apply(e,arguments)}},{key:"clearResourceTimings",value:function(){var e;return(e=window.performance).clearResourceTimings.apply(e,arguments)}},{key:"getEntries",value:function(){var e;return(e=window.performance).getEntries.apply(e,arguments)}},{key:"getEntriesByType",value:function(){var e;return(e=window.performance).getEntriesByType.apply(e,arguments)}},{key:"getEntriesByName",value:function(){var e;return(e=window.performance).getEntriesByName.apply(e,arguments)}},{key:"getEntriesByNameRegex",value:function(e){return this.getEntries().filter(function(t){return e.test(t.name)})}}]),e}();n.default=new a.default({name:"initializeTiming",deps:["includeTimingPolyfill"],execute:function(){return new l}})},{"@sie/valkyrie-preflight/lib/preflight-operation":32}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("@sie/valkyrie-preflight/lib/preflight-operation"),i=r(o);n.default=new i.default({name:"initiateAuth",deps:["preflightConstants","loadConfig"],execute:function(e,t){var n={line:t.line,options:{frameType:"iframe",baseUrl:e.rootUrl,targetOrigin:e.hostOriginUrl},params:{response_type:"token",client_id:t.sso_auth_client_id,scope:t.sso_auth_permission_scope,redirect_uri:e.assetsUrl+"auth/response-6bd54237a5ffea223e2784fcd88c34e1.html"}},r=new SneiWebAuth(n,window.Promise);return r.checkAuthState(),r}})},{"@sie/valkyrie-preflight/lib/preflight-operation":32}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("@sie/valkyrie-preflight/lib/preflight-operation"),i=r(o),s=e("@sie/valkyrie-preflight/lib/gc-client-config"),a=r(s),u=e("../get-user-language-prefs"),c=r(u),l="X-Geo-Country-Code";n.default=new i.default({name:"loadConfig",deps:["preflightConstants","initializeTiming"],execute:function(e,t){t.time("ember-boot");var n=e.assetsUrl+"/config/app.json",r=e.currentLocation,o=void 0,i=new GrandCentral.XHRPromise("GET",n).open({},null,{withCredentials:!0}).then(function(e){if(o=e.getResponseHeader(l),"string"==typeof e.response){console.warn("Config file was not parsed.  This probably means the server returned it with a content type other than application/json.");try{return JSON.parse(e.response)}catch(e){throw new Error("Error parsing JSON of "+n+": "+e.message)}}return e.response}).then(function(e){a.default.addSettings(e);var t=(0,c.default)();a.default.addSettings({geoCountryCode:o,platform:{userLanguagePrefs:t}})}).then(function(){var e=a.default.computeSettings();if(!e.is_customer_facing){var t=/[\?\&]config=([^&#]*)/i.exec(r.href);if(t)try{var n=JSON.parse(decodeURIComponent(t[1]));a.default.addSettings(n||{})}catch(e){throw new Error("Config override not in valid JSON format:\n"+e)}}}).then(function(){var e=r.pathname&&r.pathname.replace(/^\/|\/$/g,"");a.default.addCriteriaVerifier("path",function(t){return a.default.matchesRegExp(t,e)}),a.default.addCriteriaVerifier("host",function(e){return a.default.matchesRegExp(e,r.host)})}).then(function(){var e=a.default.computeSettings();return e});return t.measurePromise("preflight-load-config",i),i}})},{"../get-user-language-prefs":14,"@sie/valkyrie-preflight/lib/gc-client-config":27,"@sie/valkyrie-preflight/lib/preflight-operation":32}],24:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("@sie/valkyrie-preflight/lib/preflight-operation"),i=r(o);n.default=new i.default({name:"noop",deps:[],execute:function(){}})},{"@sie/valkyrie-preflight/lib/preflight-operation":32}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("@sie/valkyrie-preflight/lib/preflight-operation"),i=r(o),s=e("../get-assets-origin-url"),a=r(s),u=e("../get-host-origin-url"),c=r(u),l="sb-main";n.default=new i.default({name:"preflightConstants",deps:[],execute:function(){var e="/starblaster2/pdc/master/",t=(0,a.default)(l)+e,n=window.location,r=(0,c.default)();return{rootUrl:e,assetsUrl:t,currentLocation:n,hostOriginUrl:r}}})},{"../get-assets-origin-url":11,"../get-host-origin-url":12,"@sie/valkyrie-preflight/lib/preflight-operation":32}],26:[function(e,t,n){"use strict";function r(e){var t=window.valkyrie&&window.valkyrie.clairvoyance;return new t.TelemetryEvent(t.metrics[e])}function o(e,t,n){var r=window.valkyrie&&window.valkyrie.clairvoyance,o=void 0,s="undefined"==typeof e?"undefined":i(e);"object"===s?o=e:"string"===s&&(o=new r.TelemetryEvent(r.metrics[e],t,n)),o&&r.transmissionQueue.enqueue(o)}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.createClairvoyanceEvent=r,n.sendClairvoyanceEvent=o},{}],27:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./gc-global"),i=r(o),s=function(e){e.addCriteriaVerifier("host",function(t){return e.matchesRegExp(t,window.location.host)})},a=new i.default.ClientConfigService;s(a),n.default=a},{"./gc-global":29}],28:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=this;this.resolve=null,this.reject=null,this.promise=new s.default(function(t,n){e.resolve=t,e.reject=n})}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("./promise"),s=r(i)},{"./promise":34}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=window.GrandCentral;if(!r)throw new Error("Grand Central must be loaded before Preflight.");n.default=r},{}],30:[function(e,t,n){"use strict";t.exports=function(e,t){if(null===e)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n,r=Object(e),o=r.length>>>0,i=arguments[1],s=0;s<o;s++)if(n=r[s],t.call(i,n,s,r))return n}},{}],31:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,o,i;if(null==e)throw new TypeError(" this is null or not defined");var s=Object(e),a=s.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(r=n),o=new Array(a),i=0;i<a;){var u,c;i in s&&(u=s[i],c=t.call(r,u,i,s),o[i]=c),i++}return o}},{}],32:[function(e,t,n){"use strict";function r(e){var t=e.execute,n=e.name,r=e.deps,o=e.clairvoyanceId;if("string"!=typeof n)throw new Error("Preflight operation is missing a name!");if("function"!=typeof t)throw new Error('Preflight operation "'+n+'" is missing an execute function!');this.execute=t,this.name=n,this.deps=r||[],this.clairvoyanceId=o}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{}],33:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){var t=e.split(I);return t[t.length-1]}function a(e){return{deferred:new _.default,operation:e,execution:{succeeded:!1,finished:!1,started:null,duration:null,result:null}}}function u(e){var t=e.split(":");return 2===t.length&&t[0].length>0&&t[1].length>0}function c(e){function t(t){return e[t].then(function(e){return n[t]=e})}var n={},r=Object.keys(e).map(t);return h.default.all(r).then(function(){return n})}function l(e,t){function n(e,t,r){var o=t[s(e)];if(o.isCycleChecked)throw r.push(e),console.error("You've got a dependency cycle! ",r),new Error("Dependency cycle in startup: "+r.join(","));var i=r.slice();i.push(e),o.isCycleChecked=!0,o.operation.deps.forEach(function(e){n(e,t,i)}),o.isCycleChecked=!1}Object.keys(t).forEach(function(e){t[e].isCycleChecked=!1}),n(e,t,[])}function f(e){return function(){var t="",n=-1,r=-1,o=1e30;for(var i in e){var s=e[i];n=Math.max(n,s.execution.slot),r=Math.max(r,s.execution.started+s.execution.duration),o=Math.min(o,s.execution.started)}var a=r-o;console.log("biggestSlot = ",n),console.log("preflight started ",o," ended ",r);var u=0;for(var i in e){var s=e[i];u++;var c=Math.round(100*(s.execution.duration/a))+"%",l=s.execution.started-o,f=Math.round(100*(l/a))+"%",p=20,d=p*s.execution.slot+"px",h="red",m=["display: inline-block;","position: absolute;","left: "+f+";","top: "+d+";","width: "+c+";","height: "+p+";","background-color: "+h+";","border: 1px solid white;"].join("\n");console.log("op = ",s),t+='<div style="'+m+'">'+s.operation.name+"("+s.execution.duration+"ms)</div>"}var _=document.createElement("div");_.innerHTML=t,_.style.position="fixed",_.style.left="0px",_.style.top="0px",_.style.width="75%",_.style.height="100%",_.style.border="1px solid white",_.style["background-color"]="black",_.style["z-index"]=65535,_.style["overflow-x"]="scroll",_.id="preflight-stats",document.body.appendChild(_)}}Object.defineProperty(n,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=e("./promise"),h=r(d),m=e("./gc-deferred"),_=r(m),g=e("./clairvoyance-event"),E=e("./polyfill-map"),y=(r(E),e("./polyfill-find")),v=r(y),T="finally",I=":",O=function(){function e(){var t=this;i(this,e),this._promise=null,this._operationsCompleted=0,this._operationsStarted=0,this._operations={};for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];r.forEach(function(e){return t._schedule(e)}),this._start(),this._slots={}}return p(e,[{key:"hasOperation",value:function(e){if(u(e))throw Error('hasOperation() called with a dependency specifier "'+e+'".  Only operations are supported.');return!!this._operations[e]}},{key:"isValidDependency",value:function(e){var t=e.split(I);if(t.length>2)throw Error("Malformed operation name '"+e+"': Expected <= 2, got "+t.length);var n=e;if((0,v.default)([T],function(e){return e===t[0]}))n=t[1];else if(2===t.length)throw Error("Unknown operation name prefix: "+t[0]);return!!this._operations[n]}},{key:"getOperation",value:function(e){if(u(e))throw Error('getOperation() called with a dependency specifier "'+e+'".  Only operations are supported.');return this._operations[e]}},{key:"_determineSlot",value:function(){for(var e=0;;){if(!this._slots[e])return this._slots[e]=!0,e;e++}}},{key:"_clearSlot",value:function(e){this._slots[e]=!1}},{key:"_executeOperation",value:function(e){function t(t,n){i._notifyAction(e,"completed"),u.duration=(new Date).getTime()-u.started,u.finished=!0,u.succeeded=n,u.result=t,i._clearSlot(u.slot),r&&console.debug("Operation "+e+" finished!,",u),s.deferred[n?"resolve":"reject"](t)}var n=this,r=!1,i=this,s=this._operations[e];if(!s)throw new Error("Preflight runner attempted to execute unknown op "+e);var a=s.operation,u=s.execution,c=(0,v.default)(a.deps,function(e){return!n.isValidDependency(e)});if(c)throw new Error("Preflight operation "+e+" is executing but dependency "+c+" was not scheduled.");var l=a.deps.map(function(e){return n.getPromiseFor(e)});return h.default.all(l).catch(function(e){throw s.deferred.reject(e),e}).then(function(n){return h.default.resolve().then(function(){var t;return r&&console.debug("Operation "+e+" started"),u.started=(new Date).getTime(),u.slot=i._determineSlot(),i._notifyAction(e,"started"),(t=a.execute).call.apply(t,[a].concat(o(n)))}).then(function(e){return t(e,!0),a.clairvoyanceId&&(0,g.sendClairvoyanceEvent)(a.clairvoyanceId,u.started,u.duration),e},function(e){throw t(e,!1),e})})}},{key:"_schedule",value:function(e){if(this._promise)throw new Error('PreflightRunner._schedule: cannot add "'+e.name+'" to an already-started schedule.');return this._operations[e.name]=a(e),this}},{key:"getPromise",value:function(){return this._promise}},{key:"_notifyAction",value:function(e,t){"started"===t?this._operationsStarted++:"completed"===t&&this._operationsCompleted++;var n={opsStarted:this._operationsStarted,opsCompleted:this._operationsCompleted,opsTotal:Object.keys(this._operations).length,lastOpChange:e,lastOpAction:t};window.valkyrie&&"function"==typeof window.valkyrie.onPreflightProgress&&window.valkyrie.onPreflightProgress(n)}},{key:"_start",value:function(){var e=this;if(this._promise)throw new Error("PreflightRunner._start: cannot start an already-started schedule.");var t={};return this._operationsCompleted=0,Object.keys(this._operations).forEach(function(n){return t[n]=e._executeOperation(n)}),Object.keys(this._operations).forEach(function(t){l(t,e._operations)}),this._promise=c(t).finally(function(){return window.showPreflightStats=f(e._operations),t}),this}},{key:"getPromiseFor",value:function(e){if(this.isValidDependency(e)){var t=function(e){if(e instanceof Error)return e;var t=new Error("Preflight error! See property 'cause' of this object");return Object.defineProperty(t,"cause",{configurable:!1,enumerable:!0,writable:!1,value:e}),t},n=e.split(I),r=s(e),o=this._operations[r].deferred.promise;if(1===n.length)return o;var i=void 0,a=void 0,u=n[0];switch(u){case T:i=function(e){return{result:e}},a=function(e){return{err:t(e)}};break;default:i=function(e){return e},a=function(e){throw t(e)}}return o.then(i,a)}return h.default.reject('PreflightRunner.getPromiseFor: operation (or dependency) "'+e+"\" doesn't exist")}},{key:"getDebugDetails",value:function(){var e=this,t=Object.keys(this._operations).map(function(t){return e._operations[t]}).sort(function(e,t){return e.execution.started-t.execution.started});if(0!=t.length){var n=window.performance?window.performance.timing.navigationStart:0,r=function(){var n=e._operationsStarted==e._operationsCompleted;if(!n)return{isFinished:n};var r=Math.max.apply(Math,o(t.map(function(e){return e.execution.duration+e.execution.started})));return{isFinished:n,latestFinish:r}}(),i=r.isFinished,s=r.latestFinish,a=t[0].execution.started;return console.log("---------- Preflight Stats ----------\n"),i?console.log("Total Preflight Execution Time: "+(s-a)+"ms "+(n?"\nStarted "+(a-n)+"ms from navigation start":"")+(n?"\nFinished "+(s-n)+"ms from navigation start":"")):console.log("-- Preflight is still executing... --"),"function"!=typeof console.table?void console.warn("Cannot print preflight execution table. Please use a browser that supports console.table()"):void console.table(t.map(function(e){var t={name:e.operation.name,deps:e.operation.deps.join(", ")},r="started "+(n?"(from nav start)":"(absolute)"),o="ended "+(n?"(from nav start)":"(absolute)");return t[r]=e.execution.started-n,t.duration=e.execution.duration,t[o]=e.execution.finished?t[r]+t.duration:"executing...",t}))}}}]),e}();n.default=O},{"./clairvoyance-event":26,"./gc-deferred":28,"./polyfill-find":30,"./polyfill-map":31,"./promise":34}],34:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./gc-global"),i=void r(o);if(window.Promise&&(window.Promise.all&&new window.Promise(function(){return 0}).finally?i=window.Promise:console.warn("snei-valkyrie-preflight:  window.Promise exists but does not support `all` or `.finally` which is required by snei-valkyrie-preflight.")),!i)throw new Error("snei-valkyrie-preflight:  No sufficient Promise implementation found..  Please install a polyfill.  RSVP is suggested.");n.default=i},{"./gc-global":29}],35:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o,i){"function"==typeof define&&define.amd?define("error-stack-parser",["stackframe"],i):"object"===("undefined"==typeof n?"undefined":r(n))?t.exports=i(e("stackframe")):o.ErrorStackParser=i(o.StackFrame)}(void 0,function(e){function t(e,t,n){if("function"==typeof Array.prototype.map)return e.map(t,n);for(var r=new Array(e.length),o=0;o<e.length;o++)r[o]=t.call(n,e[o]);return r}function n(e,t,n){if("function"==typeof Array.prototype.filter)return e.filter(t,n);for(var r=[],o=0;o<e.length;o++)t.call(n,e[o])&&r.push(e[o]);return r}function r(e,t){if("function"==typeof Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var o=/(^|@)\S+\:\d+/,i=/^\s*at .*(\S+\:\d+|\(native\))/m,s=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if("undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(i))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(e.indexOf(":")===-1)return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,n=t.exec(e.replace(/[\(\)]/g,""));return[n[1],n[2]||void 0,n[3]||void 0]},parseV8OrIE:function(o){var s=n(o.stack.split("\n"),function(e){return!!e.match(i)},this);return t(s,function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),o=this.extractLocation(n.pop()),i=n.join(" ")||void 0,s=r(["eval","<anonymous>"],o[0])>-1?void 0:o[0];return new e(i,void 0,s,o[1],o[2],t)},this)},parseFFOrSafari:function(r){var o=n(r.stack.split("\n"),function(e){return!e.match(s)},this);return t(o,function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),t.indexOf("@")===-1&&t.indexOf(":")===-1)return new e(t);var n=t.split("@"),r=this.extractLocation(n.pop()),o=n.join("@")||void 0;return new e(o,void 0,r[0],r[1],r[2],t)},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,s=r.length;i<s;i+=2){var a=n.exec(r[i]);a&&o.push(new e(void 0,void 0,a[2],a[1],void 0,r[i]))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,s=r.length;i<s;i+=2){var a=n.exec(r[i]);a&&o.push(new e(a[3]||void 0,void 0,a[2],a[1],void 0,r[i]))}return o},parseOpera11:function(r){var i=n(r.stack.split("\n"),function(e){return!!e.match(o)&&!e.match(/^Error created at/)},this);return t(i,function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",s=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var a=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e(s,a,o[0],o[1],o[2],t)},this)}}})},{stackframe:46}],36:[function(e,t,n){"use strict";function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function s(e){if(p===clearTimeout)return clearTimeout(e);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){_&&h&&(_=!1,h.length?m=h.concat(m):g=-1,m.length&&u())}function u(){if(!_){var e=i(a);_=!0;for(var t=m.length;t;){for(h=m,m=[];++g<t;)h&&h[g].run();g=-1,t=m.length}h=null,_=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,p,d=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(e){p=o}}();var h,m=[],_=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||_||i(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],37:[function(e,t,n){"use strict";function r(){this._array=[],this._set=Object.create(null)}var o=e("./util"),i=Object.prototype.hasOwnProperty;r.fromArray=function(e,t){for(var n=new r,o=0,i=e.length;o<i;o++)n.add(e[o],t);return n},r.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},r.prototype.add=function(e,t){var n=o.toSetString(e),r=i.call(this._set,n),s=this._array.length;r&&!t||this._array.push(e),r||(this._set[n]=s)},r.prototype.has=function(e){var t=o.toSetString(e);return i.call(this._set,t)},r.prototype.indexOf=function(e){var t=o.toSetString(e);if(i.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},r.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},r.prototype.toArray=function(){return this._array.slice()},n.ArraySet=r},{"./util":43}],38:[function(e,t,n){"use strict";function r(e){return e<0?(-e<<1)+1:(e<<1)+0}function o(e){var t=1===(1&e),n=e>>1;return t?-n:n}var i=e("./base64"),s=5,a=1<<s,u=a-1,c=a;n.encode=function(e){var t,n="",o=r(e);do t=o&u,o>>>=s,o>0&&(t|=c),n+=i.encode(t);while(o>0);return n},n.decode=function(e,t,n){var r,a,l=e.length,f=0,p=0;do{if(t>=l)throw new Error("Expected more digits in base 64 VLQ value.");if(a=i.decode(e.charCodeAt(t++)),a===-1)throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(a&c),a&=u,f+=a<<p,p+=s}while(r);n.value=o(f),n.rest=t}},{"./base64":39}],39:[function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");n.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},n.decode=function(e){var t=65,n=90,r=97,o=122,i=48,s=57,a=43,u=47,c=26,l=52;return t<=e&&e<=n?e-t:r<=e&&e<=o?e-r+c:i<=e&&e<=s?e-i+l:e==a?62:e==u?63:-1}},{}],40:[function(e,t,n){"use strict";function r(e,t,o,i,s,a){var u=Math.floor((t-e)/2)+e,c=s(o,i[u],!0);return 0===c?u:c>0?t-u>1?r(u,t,o,i,s,a):a==n.LEAST_UPPER_BOUND?t<i.length?t:-1:u:u-e>1?r(e,u,o,i,s,a):a==n.LEAST_UPPER_BOUND?u:e<0?-1:e}n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2,n.search=function(e,t,o,i){if(0===t.length)return-1;var s=r(-1,t.length,e,t,o,i||n.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===o(t[s],t[s-1],!0);)--s;return s}},{}],41:[function(e,t,n){"use strict";function r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function o(e,t){return Math.round(e+Math.random()*(t-e))}function i(e,t,n,s){if(n<s){var a=o(n,s),u=n-1;r(e,a,s);for(var c=e[s],l=n;l<s;l++)t(e[l],c)<=0&&(u+=1,r(e,u,l));r(e,u+1,l);var f=u+1;i(e,t,n,f-1),i(e,t,f+1,s)}}n.quickSort=function(e,t){i(e,t,0,e.length-1)}},{}],42:[function(e,t,n){"use strict";function r(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new s(t):new o(t)}function o(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=a.getArg(t,"version"),r=a.getArg(t,"sources"),o=a.getArg(t,"names",[]),i=a.getArg(t,"sourceRoot",null),s=a.getArg(t,"sourcesContent",null),u=a.getArg(t,"mappings"),l=a.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);r=r.map(String).map(a.normalize).map(function(e){return i&&a.isAbsolute(i)&&a.isAbsolute(e)?a.relative(i,e):e}),this._names=c.fromArray(o.map(String),!0),this._sources=c.fromArray(r,!0),this.sourceRoot=i,this.sourcesContent=s,this._mappings=u,this.file=l}function i(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function s(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=a.getArg(t,"version"),o=a.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new c,this._names=new c;var i={line:-1,column:0};this._sections=o.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=a.getArg(e,"offset"),n=a.getArg(t,"line"),o=a.getArg(t,"column");if(n<i.line||n===i.line&&o<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=t,{generatedOffset:{generatedLine:n+1,generatedColumn:o+1},consumer:new r(a.getArg(e,"map"))}})}var a=e("./util"),u=e("./binary-search"),c=e("./array-set").ArraySet,l=e("./base64-vlq"),f=e("./quick-sort").quickSort;
r.fromSourceMap=function(e){return o.fromSourceMap(e)},r.prototype._version=3,r.prototype.__generatedMappings=null,Object.defineProperty(r.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),r.prototype.__originalMappings=null,Object.defineProperty(r.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),r.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},r.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},r.GENERATED_ORDER=1,r.ORIGINAL_ORDER=2,r.GREATEST_LOWER_BOUND=1,r.LEAST_UPPER_BOUND=2,r.prototype.eachMapping=function(e,t,n){var o,i=t||null,s=n||r.GENERATED_ORDER;switch(s){case r.GENERATED_ORDER:o=this._generatedMappings;break;case r.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var u=this.sourceRoot;o.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=u&&(t=a.join(u,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,i)},r.prototype.allGeneratedPositionsFor=function(e){var t=a.getArg(e,"line"),n={source:a.getArg(e,"source"),originalLine:t,originalColumn:a.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=a.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var r=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,u.LEAST_UPPER_BOUND);if(o>=0){var i=this._originalMappings[o];if(void 0===e.column)for(var s=i.originalLine;i&&i.originalLine===s;)r.push({line:a.getArg(i,"generatedLine",null),column:a.getArg(i,"generatedColumn",null),lastColumn:a.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];else for(var c=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==c;)r.push({line:a.getArg(i,"generatedLine",null),column:a.getArg(i,"generatedColumn",null),lastColumn:a.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o]}return r},n.SourceMapConsumer=r,o.prototype=Object.create(r.prototype),o.prototype.consumer=r,o.fromSourceMap=function(e){var t=Object.create(o.prototype),n=t._names=c.fromArray(e._names.toArray(),!0),r=t._sources=c.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var s=e._mappings.toArray().slice(),u=t.__generatedMappings=[],l=t.__originalMappings=[],p=0,d=s.length;p<d;p++){var h=s[p],m=new i;m.generatedLine=h.generatedLine,m.generatedColumn=h.generatedColumn,h.source&&(m.source=r.indexOf(h.source),m.originalLine=h.originalLine,m.originalColumn=h.originalColumn,h.name&&(m.name=n.indexOf(h.name)),l.push(m)),u.push(m)}return f(t.__originalMappings,a.compareByOriginalPositions),t},o.prototype._version=3,Object.defineProperty(o.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?a.join(this.sourceRoot,e):e},this)}}),o.prototype._parseMappings=function(e,t){for(var n,r,o,s,u,c=1,p=0,d=0,h=0,m=0,_=0,g=e.length,E=0,y={},v={},T=[],I=[];E<g;)if(";"===e.charAt(E))c++,E++,p=0;else if(","===e.charAt(E))E++;else{for(n=new i,n.generatedLine=c,s=E;s<g&&!this._charIsMappingSeparator(e,s);s++);if(r=e.slice(E,s),o=y[r])E+=r.length;else{for(o=[];E<s;)l.decode(e,E,v),u=v.value,E=v.rest,o.push(u);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");y[r]=o}n.generatedColumn=p+o[0],p=n.generatedColumn,o.length>1&&(n.source=m+o[1],m+=o[1],n.originalLine=d+o[2],d=n.originalLine,n.originalLine+=1,n.originalColumn=h+o[3],h=n.originalColumn,o.length>4&&(n.name=_+o[4],_+=o[4])),I.push(n),"number"==typeof n.originalLine&&T.push(n)}f(I,a.compareByGeneratedPositionsDeflated),this.__generatedMappings=I,f(T,a.compareByOriginalPositions),this.__originalMappings=T},o.prototype._findMapping=function(e,t,n,r,o,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return u.search(e,t,o,i)},o.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},o.prototype.originalPositionFor=function(e){var t={generatedLine:a.getArg(e,"line"),generatedColumn:a.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",a.compareByGeneratedPositionsDeflated,a.getArg(e,"bias",r.GREATEST_LOWER_BOUND));if(n>=0){var o=this._generatedMappings[n];if(o.generatedLine===t.generatedLine){var i=a.getArg(o,"source",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=a.join(this.sourceRoot,i)));var s=a.getArg(o,"name",null);return null!==s&&(s=this._names.at(s)),{source:i,line:a.getArg(o,"originalLine",null),column:a.getArg(o,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},o.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e})},o.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=a.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=a.urlParse(this.sourceRoot))){var r=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},o.prototype.generatedPositionFor=function(e){var t=a.getArg(e,"source");if(null!=this.sourceRoot&&(t=a.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};t=this._sources.indexOf(t);var n={source:t,originalLine:a.getArg(e,"line"),originalColumn:a.getArg(e,"column")},o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,a.getArg(e,"bias",r.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===n.source)return{line:a.getArg(i,"generatedLine",null),column:a.getArg(i,"generatedColumn",null),lastColumn:a.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},n.BasicSourceMapConsumer=o,s.prototype=Object.create(r.prototype),s.prototype.constructor=r,s.prototype._version=3,Object.defineProperty(s.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),s.prototype.originalPositionFor=function(e){var t={generatedLine:a.getArg(e,"line"),generatedColumn:a.getArg(e,"column")},n=u.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n?n:e.generatedColumn-t.generatedOffset.generatedColumn}),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},s.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},s.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n],o=r.consumer.sourceContentFor(e,!0);if(o)return o}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},s.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(n.consumer.sources.indexOf(a.getArg(e,"source"))!==-1){var r=n.consumer.generatedPositionFor(e);if(r){var o={line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)};return o}}}return{line:null,column:null}},s.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],o=r.consumer._generatedMappings,i=0;i<o.length;i++){var s=o[i],u=r.consumer._sources.at(s.source);null!==r.consumer.sourceRoot&&(u=a.join(r.consumer.sourceRoot,u)),this._sources.add(u),u=this._sources.indexOf(u);var c=r.consumer._names.at(s.name);this._names.add(c),c=this._names.indexOf(c);var l={source:u,generatedLine:s.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(r.generatedOffset.generatedLine===s.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:c};this.__generatedMappings.push(l),"number"==typeof l.originalLine&&this.__originalMappings.push(l)}f(this.__generatedMappings,a.compareByGeneratedPositionsDeflated),f(this.__originalMappings,a.compareByOriginalPositions)},n.IndexedSourceMapConsumer=s},{"./array-set":37,"./base64-vlq":38,"./binary-search":40,"./quick-sort":41,"./util":43}],43:[function(e,t,n){"use strict";function r(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')}function o(e){var t=e.match(g);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var t=e,r=o(e);if(r){if(!r.path)return e;t=r.path}for(var s,a=n.isAbsolute(t),u=t.split(/\/+/),c=0,l=u.length-1;l>=0;l--)s=u[l],"."===s?u.splice(l,1):".."===s?c++:c>0&&(""===s?(u.splice(l+1,c),c=0):(u.splice(l,2),c--));return t=u.join("/"),""===t&&(t=a?"/":"."),r?(r.path=t,i(r)):t}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=o(t),r=o(e);if(r&&(e=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),i(n);if(n||t.match(E))return t;if(r&&!r.host&&!r.path)return r.host=t,i(r);var a="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return r?(r.path=a,i(r)):a}function u(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if(e=e.slice(0,r),e.match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)}function c(e){return e}function l(e){return p(e)?"$"+e:e}function f(e){return p(e)?e.slice(1):e}function p(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function d(e,t,n){var r=e.source-t.source;return 0!==r?r:(r=e.originalLine-t.originalLine,0!==r?r:(r=e.originalColumn-t.originalColumn,0!==r||n?r:(r=e.generatedColumn-t.generatedColumn,0!==r?r:(r=e.generatedLine-t.generatedLine,0!==r?r:e.name-t.name))))}function h(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:(r=e.generatedColumn-t.generatedColumn,0!==r||n?r:(r=e.source-t.source,0!==r?r:(r=e.originalLine-t.originalLine,0!==r?r:(r=e.originalColumn-t.originalColumn,0!==r?r:e.name-t.name))))}function m(e,t){return e===t?0:e>t?1:-1}function _(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:(n=e.generatedColumn-t.generatedColumn,0!==n?n:(n=m(e.source,t.source),0!==n?n:(n=e.originalLine-t.originalLine,0!==n?n:(n=e.originalColumn-t.originalColumn,0!==n?n:m(e.name,t.name)))))}n.getArg=r;var g=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,E=/^data:.+\,.+$/;n.urlParse=o,n.urlGenerate=i,n.normalize=s,n.join=a,n.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(g)},n.relative=u;var y=function(){var e=Object.create(null);return!("__proto__"in e)}();n.toSetString=y?c:l,n.fromSetString=y?c:f,n.compareByOriginalPositions=d,n.compareByGeneratedPositionsDeflated=h,n.compareByGeneratedPositionsInflated=_},{}],44:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,o){"function"==typeof define&&define.amd?define("stackframe",[],o):"object"===("undefined"==typeof n?"undefined":r(n))?t.exports=o():e.StackFrame=o()}(void 0,function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e[0].toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}function r(e){if(e instanceof Object)for(var n=o.concat(i.concat(s.concat(a))),r=0;r<n.length;r++)e.hasOwnProperty(n[r])&&void 0!==e[n[r]]&&this["set"+t(n[r])](e[n[r]])}var o=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],s=["fileName","functionName","source"],a=["args"];r.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof r)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new r(e)}},toString:function(){var t=this.getFunctionName()||"{anonymous}",n="("+(this.getArgs()||[]).join(",")+")",r=this.getFileName()?"@"+this.getFileName():"",o=e(this.getLineNumber())?":"+this.getLineNumber():"",i=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return t+n+r+o+i}};for(var u=0;u<o.length;u++)r.prototype["get"+t(o[u])]=n(o[u]),r.prototype["set"+t(o[u])]=function(e){return function(t){this[e]=Boolean(t)}}(o[u]);for(var c=0;c<i.length;c++)r.prototype["get"+t(i[c])]=n(i[c]),r.prototype["set"+t(i[c])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(i[c]);for(var l=0;l<s.length;l++)r.prototype["get"+t(s[l])]=n(s[l]),r.prototype["set"+t(s[l])]=function(e){return function(t){this[e]=String(t)}}(s[l]);return r})},{}],45:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o,i){"function"==typeof define&&define.amd?define("stack-generator",["stackframe"],i):"object"===("undefined"==typeof n?"undefined":r(n))?t.exports=i(e("stackframe")):o.StackGenerator=i(o.StackFrame)}(void 0,function(e){return{backtrace:function(t){var n=[],o=10;"object"===("undefined"==typeof t?"undefined":r(t))&&"number"==typeof t.maxStackSize&&(o=t.maxStackSize);for(var i=arguments.callee;i&&n.length<o;){for(var s=new Array(i.arguments.length),a=0;a<s.length;++a)s[a]=i.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:s})):n.push(new e({args:s}));try{i=i.caller}catch(e){break}}return n}}})},{stackframe:44}],46:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,o){"function"==typeof define&&define.amd?define("stackframe",[],o):"object"===("undefined"==typeof n?"undefined":r(n))?t.exports=o():e.StackFrame=o()}(void 0,function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e,t,n,r,o,i){void 0!==e&&this.setFunctionName(e),void 0!==t&&this.setArgs(t),void 0!==n&&this.setFileName(n),void 0!==r&&this.setLineNumber(r),void 0!==o&&this.setColumnNumber(o),void 0!==i&&this.setSource(i)}return t.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(t){if(!e(t))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(t)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(t){if(!e(t))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(t)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){var t=this.getFunctionName()||"{anonymous}",n="("+(this.getArgs()||[]).join(",")+")",r=this.getFileName()?"@"+this.getFileName():"",o=e(this.getLineNumber())?":"+this.getLineNumber():"",i=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return t+n+r+o+i}},t})},{}],47:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o,i){"function"==typeof define&&define.amd?define("stacktrace-gps",["source-map","stackframe"],i):"object"===("undefined"==typeof n?"undefined":r(n))?t.exports=i(e("source-map/lib/source-map-consumer"),e("stackframe")):o.StackTraceGPS=i(o.SourceMap||o.sourceMap,o.StackFrame)}(void 0,function(e,t){function n(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("get",e),r.onerror=n,r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?t(r.responseText):n(new Error("HTTP status: "+r.status+" retrieving "+e)))},r.send()})}function o(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function i(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}function s(e,t){for(var n,r=/function\s+([^(]*?)\s*\(([^)]*)\)/,o=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,i=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,s=e.split("\n"),a="",u=Math.min(t,20),c=0;c<u;++c){var l=s[t-c-1],f=l.indexOf("//");if(f>=0&&(l=l.substr(0,f)),l){if(a=l+a,n=o.exec(a),n&&n[1])return n[1];if(n=r.exec(a),n&&n[1])return n[1];if(n=i.exec(a),n&&n[1])return n[1]}}}function a(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}function u(e){if("object"!==("undefined"==typeof e?"undefined":r(e)))throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!==0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!==0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function c(e){var t=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/.exec(e);if(t&&t[1])return t[1];throw new Error("sourceMappingURL not found")}function l(n,r,o){return new Promise(function(i,s){var a=new e.SourceMapConsumer(r),u=a.originalPositionFor({line:n.lineNumber,column:n.columnNumber});if(u.source){var c=a.sourceContentFor(u.source);c&&(o[u.source]=c),i(new t(u.name||n.functionName,n.args,u.source,u.line,u.column))}else s(new Error("Could not get original source for given stackframe and source map"))})}return function e(r){return this instanceof e?(r=r||{},this.sourceCache=r.sourceCache||{},this.ajax=r.ajax||n,this._atob=r.atob||o,this._get=function(e){return new Promise(function(t,n){var o="data:"===e.substr(0,5);if(this.sourceCache[e])t(this.sourceCache[e]);else if(r.offline&&!o)n(new Error("Cannot make network requests in offline mode"));else if(o){var i=/^data:application\/json;([\w=:"-]+;)*base64,/,s=e.match(i);if(s){var a=s[0].length,u=e.substr(a),c=this._atob(u);this.sourceCache[e]=c,t(c)}else n(new Error("The encoding of the inline sourcemap is not supported"))}else{var l=this.ajax(e,{method:"get"});this.sourceCache[e]=l,l.then(t,n)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,n){this.getMappedLocation(e).then(function(e){function n(){t(e)}this.findFunctionName(e).then(t,n).catch(n)}.bind(this),n)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(n,r){u(e),this._get(e.fileName).then(function(r){var o=e.lineNumber,i=e.columnNumber,a=s(r,o,i);n(a?new t(a,e.args,e.fileName,o,i):e)},r).catch(r)}.bind(this))},void(this.getMappedLocation=function(e){return new Promise(function(t,n){a(),u(e);var r=this.sourceCache,o=e.fileName;this._get(o).then(function(s){var a=c(s),u="data:"===a.substr(0,5),f=o.substring(0,o.lastIndexOf("/")+1);"/"===a[0]||u||/^https?:\/\/|^\/\//i.test(a)||(a=f+a),this._get(a).then(function(n){"string"==typeof n&&(n=i(n.replace(/^\)\]\}'/,""))),"undefined"==typeof n.sourceRoot&&(n.sourceRoot=f),l(e,n,r).then(t).catch(function(){t(e)})},n).catch(n)}.bind(this),n).catch(n)}.bind(this))})):new e(r)}})},{"source-map/lib/source-map-consumer":42,stackframe:46}],48:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o,i){"function"==typeof define&&define.amd?define("stacktrace",["error-stack-parser","stack-generator","stacktrace-gps"],i):"object"===("undefined"==typeof n?"undefined":r(n))?t.exports=i(e("error-stack-parser"),e("stack-generator"),e("stacktrace-gps")):o.StackTrace=i(o.ErrorStackParser,o.StackGenerator,o.StackTraceGPS)}(void 0,function(e,t,n){function r(e,t){var n={};return[e,t].forEach(function(e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}),n}function o(e){return e.stack||e["opera#sourceloc"]}function i(e,t){return"function"==typeof t?e.filter(t):e}var s={filter:function(e){return(e.functionName||"").indexOf("StackTrace$$")===-1&&(e.functionName||"").indexOf("ErrorStackParser$$")===-1&&(e.functionName||"").indexOf("StackTraceGPS$$")===-1&&(e.functionName||"").indexOf("StackGenerator$$")===-1},sourceCache:{}},a=function(){try{throw new Error}catch(e){return e}};return{get:function(e){var t=a();return o(t)?this.fromError(t,e):this.generateArtificially(e)},getSync:function(n){n=r(s,n);var u=a(),c=o(u)?e.parse(u):t.backtrace(n);return i(c,n.filter)},fromError:function(t,o){o=r(s,o);var a=new n(o);return new Promise(function(n){var r=i(e.parse(t),o.filter);n(Promise.all(r.map(function(e){return new Promise(function(t){function n(){t(e)}a.pinpoint(e).then(t,n).catch(n)})})))}.bind(this))},generateArtificially:function(e){e=r(s,e);var n=t.backtrace(e);return"function"==typeof e.filter&&(n=n.filter(e.filter)),Promise.resolve(n)},instrument:function(e,t,n,r){if("function"!=typeof e)throw new Error("Cannot instrument non-function object");if("function"==typeof e.__stacktraceOriginalFn)return e;var i=function(){try{return this.get().then(t,n).catch(n),e.apply(r||this,arguments)}catch(e){throw o(e)&&this.fromError(e).then(t,n).catch(n),e}}.bind(this);return i.__stacktraceOriginalFn=e,i},deinstrument:function(e){if("function"!=typeof e)throw new Error("Cannot de-instrument non-function object");return"function"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(e,t,n){return new Promise(function(r,o){var i=new XMLHttpRequest;i.onerror=o,i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<400?r(i.responseText):o(new Error("POST to "+t+" failed with status: "+i.status)))},i.open("post",t),i.setRequestHeader("Content-Type","application/json");var s={stack:e};void 0!==n&&(s.message=n),i.send(JSON.stringify(s))})}}})},{"error-stack-parser":35,"stack-generator":45,"stacktrace-gps":47}],49:[function(e,t,n){(function(e){"use strict";!function(n){"undefined"==typeof n&&(n={}),"undefined"==typeof n.performance&&(n.performance={}),n._perfRefForUserTimingPolyfill=n.performance,n.performance.userTimingJsNow=!1,n.performance.userTimingJsNowPrefixed=!1,n.performance.userTimingJsUserTiming=!1,n.performance.userTimingJsUserTimingPrefixed=!1,n.performance.userTimingJsPerformanceTimeline=!1,n.performance.userTimingJsPerformanceTimelinePrefixed=!1;var r,o,i=[],s=[],a=null;if("function"!=typeof n.performance.now){for(n.performance.userTimingJsNow=!0,s=["webkitNow","msNow","mozNow"],r=0;r<s.length;r++)if("function"==typeof n.performance[s[r]]){n.performance.now=n.performance[s[r]],n.performance.userTimingJsNowPrefixed=!0;break}var u=+new Date;n.performance.timing&&n.performance.timing.navigationStart?u=n.performance.timing.navigationStart:"undefined"!=typeof e&&"function"==typeof e.hrtime&&(u=e.hrtime(),n.performance.now=function(){var t=e.hrtime(u);return 1e3*t[0]+1e-6*t[1]}),"function"!=typeof n.performance.now&&(Date.now?n.performance.now=function(){return Date.now()-u}:n.performance.now=function(){return+new Date-u})}var c=function(){},l=function(){},f=[],p=!1,d=!1;if("function"!=typeof n.performance.getEntries||"function"!=typeof n.performance.mark){for("function"==typeof n.performance.getEntries&&"function"!=typeof n.performance.mark&&(d=!0),n.performance.userTimingJsPerformanceTimeline=!0,i=["webkit","moz"],s=["getEntries","getEntriesByName","getEntriesByType"],r=0;r<s.length;r++)for(o=0;o<i.length;o++)a=i[o]+s[r].substr(0,1).toUpperCase()+s[r].substr(1),"function"==typeof n.performance[a]&&(n.performance[s[r]]=n.performance[a],n.performance.userTimingJsPerformanceTimelinePrefixed=!0);c=function(e){f.push(e),"measure"===e.entryType&&(p=!0)};var h=function(){p&&(f.sort(function(e,t){return e.startTime-t.startTime}),p=!1)};if(l=function(e,t){for(r=0;r<f.length;)f[r].entryType!==e||"undefined"!=typeof t&&f[r].name!==t?r++:f.splice(r,1)},"function"!=typeof n.performance.getEntries||d){var m=n.performance.getEntries;n.performance.getEntries=function(){h();var e=f.slice(0);return d&&m&&(Array.prototype.push.apply(e,m.call(n.performance)),e.sort(function(e,t){return e.startTime-t.startTime})),e}}if("function"!=typeof n.performance.getEntriesByType||d){var _=n.performance.getEntriesByType;n.performance.getEntriesByType=function(e){if("undefined"==typeof e||"mark"!==e&&"measure"!==e)return d&&_?_.call(n.performance,e):[];"measure"===e&&h();var t=[];for(r=0;r<f.length;r++)f[r].entryType===e&&t.push(f[r]);return t}}if("function"!=typeof n.performance.getEntriesByName||d){var g=n.performance.getEntriesByName;n.performance.getEntriesByName=function(e,t){if(t&&"mark"!==t&&"measure"!==t)return d&&g?g.call(n.performance,e,t):[];"undefined"!=typeof t&&"measure"===t&&h();var o=[];for(r=0;r<f.length;r++)"undefined"!=typeof t&&f[r].entryType!==t||f[r].name===e&&o.push(f[r]);return d&&g&&(Array.prototype.push.apply(o,g.call(n.performance,e,t)),o.sort(function(e,t){return e.startTime-t.startTime})),o}}}if("function"!=typeof n.performance.mark){for(n.performance.userTimingJsUserTiming=!0,i=["webkit","moz","ms"],s=["mark","measure","clearMarks","clearMeasures"],r=0;r<s.length;r++)for(o=0;o<i.length;o++)a=i[o]+s[r].substr(0,1).toUpperCase()+s[r].substr(1),"function"==typeof n.performance[a]&&(n.performance[s[r]]=n.performance[a],n.performance.userTimingJsUserTimingPrefixed=!0);var E={};"function"!=typeof n.performance.mark&&(n.performance.mark=function(e){var t=n.performance.now();if("undefined"==typeof e)throw new SyntaxError("Mark name must be specified");if(n.performance.timing&&e in n.performance.timing)throw new SyntaxError("Mark name is not allowed");E[e]||(E[e]=[]),E[e].push(t),c({entryType:"mark",name:e,startTime:t,duration:0})}),"function"!=typeof n.performance.clearMarks&&(n.performance.clearMarks=function(e){e?E[e]=[]:E={},l("mark",e)}),"function"!=typeof n.performance.measure&&(n.performance.measure=function(e,t,r){var o=n.performance.now();if("undefined"==typeof e)throw new SyntaxError("Measure must be specified");if(!t)return void c({entryType:"measure",name:e,startTime:0,duration:o});var i=0;if(n.performance.timing&&t in n.performance.timing){if("navigationStart"!==t&&0===n.performance.timing[t])throw new Error(t+" has a timing of 0");i=n.performance.timing[t]-n.performance.timing.navigationStart}else{if(!(t in E))throw new Error(t+" mark not found");i=E[t][E[t].length-1]}var s=o;if(r)if(s=0,n.performance.timing&&r in n.performance.timing){if("navigationStart"!==r&&0===n.performance.timing[r])throw new Error(r+" has a timing of 0");s=n.performance.timing[r]-n.performance.timing.navigationStart}else{if(!(r in E))throw new Error(r+" mark not found");s=E[r][E[r].length-1]}var a=s-i;c({entryType:"measure",name:e,startTime:i,duration:a})}),"function"!=typeof n.performance.clearMeasures&&(n.performance.clearMeasures=function(e){l("measure",e)})}"function"==typeof define&&define.amd?define([],function(){return n.performance}):"undefined"!=typeof t&&"undefined"!=typeof t.exports&&(t.exports=n.performance)}("undefined"!=typeof window?window:void 0)}).call(this,e("_process"))},{_process:36}]},{},[3]);