var PriceSpider;!function(a){var b;!function(a){function b(){for(var a=document.getElementsByTagName("script"),b=0;b<a.length;++b){var c=a[b];if(c.src.indexOf("ps-widget")>=0)return c.src.substr(0,c.src.lastIndexOf("/")+1)}}function c(){for(var a=document.getElementsByTagName("script"),b=0;b<a.length;++b){var c=a[b];if(c.src.indexOf("ps-widget")>=0)return c.getAttribute("data-ps-account")}}function d(a){for(var b=document.head.getElementsByTagName("meta"),c=0;c<b.length;++c){var d=b[c],e=d.getAttribute("name");if(e===a)return d.getAttribute("content")}}function e(a,b){return d(a)||o[a]||b}function f(a,b){void 0===b&&(b=!1);var c=e(a);if(c){var d=h(c);if(void 0!==d)return d}return b}function g(a,b){void 0===a&&(a=!0),void 0===b&&(b=!0);var c={};if(a&&window.location.search.length>1){var d=window.location.search.substring(1),e=d.indexOf("&")>0?d.split("&"):[d];i(e,c)}if(b&&window.location.hash){var d=window.location.hash.substring(1),e=d.indexOf("&")>0?d.split("&"):[d];i(e,c)}return c}function h(a){return a=a.toLowerCase(),"true"===a||"yes"===a||"false"!==a&&"no"!==a&&void 0}function i(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.indexOf("="),f=e>=0?d.substr(0,e):d,g=e>=0?d.substr(e+1):void 0;b.hasOwnProperty(f)||"function"==typeof f?b[f]instanceof Array?b[f].push(g):b[f]=[b[f],g]:b[f]=g}}function j(a,b){var c=document.createElement("script");return c.src=a,c.type="text/javascript",c.charset="UTF-8",k(a,c,b)}function k(a,b,c){return void 0===b.readyState?(b.onload=function(){return c(null,null)},b.onerror=function(){return c(l(a),null)}):b.onreadystatechange=function(){"loaded"!=b.readyState&&"complete"!=b.readyState||(b.onreadystatechange=null,c(null,null))},document.body?document.body.appendChild(b):document.head.appendChild(b),m("GET",a),b}function l(a){var b=new Error("Not found");return b.name="LibraryLoader.loadScript",b.url=a,b.status=404,b}function m(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];p&&console.log.apply(console,a)}function n(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];p&&console.error.apply(console,a)}var o=g(),p=f("ps-trace",!1);a.getCodebaseUrl=b,a.getAccountIdFromScriptAttribute=c,a.getMetaParam=d,a.getParam=e,a.getParamBoolean=f,a.getUrlParams=g,a.loadScript=j,a.trace=m,a.error=n}(b=a.LibraryLoader||(a.LibraryLoader={}))}(PriceSpider||(PriceSpider={}));var PriceSpider;!function(a){function b(a,b){var d=c.handler;c.element&&c.element.parentElement.removeChild(c.element),c.element=void 0,c.handler=void 0,d&&d(null,b)}var c;!function(b){function c(c,d){b.handler=d,b.element=a.LibraryLoader.loadScript(c,function(a){a&&d(a,null)})}b.element,b.handler,b.load=c}(c=a.Jsonp||(a.Jsonp={})),a.onload=b}(PriceSpider||(PriceSpider={}));var PriceSpider;!function(a){function b(b){PriceSpider.hasOwnProperty("WidgetBinder")?PriceSpider.WidgetBinder.insert(b):a.deferredWidgets.push(b)}function c(){PriceSpider.hasOwnProperty("WidgetBinder")&&PriceSpider.WidgetBinder.bind()}a.version,a.debug,a.account,a.deferredWidgets=[],a.insertWidget=b,a.rebind=c}(PriceSpider||(PriceSpider={}));var PriceSpider;!function(a){var b;!function(b){function c(b,c){var d=e+b+"/config.js";a.Jsonp.load(d,function(d,e){d||(a.account=e,a.account.id=b,a.account.version||(a.account.version=null),a.account.configs||(a.account.configs=[])),c(d,null)})}function d(){if(a.version){var c;c=a.debug?f+a.version+"/debug/ps-widget.js":f+a.version+"/ps-widget.js",b.loadScript(c,function(c){c?b.error("Failed to load library ps-version="+a.version,c):b.trace("Loaded library ps-version="+a.version)})}else b.error("Unable to load library, missing or invalid library version")}var e="https://cdn.pricespider.com/1/",f=b.getCodebaseUrl();a.debug=b.getParamBoolean("ps-debug",!1);var g=parseInt(b.getMetaParam("ps-key"))||parseInt(b.getMetaParam("ps-account"))||parseInt(b.getAccountIdFromScriptAttribute());g?(b.trace("ps-account="+g),c(g,function(c){if(c)b.error("Unable to load library, failed to load account configuration ps-account="+g,c);else{var e=b.getParam("ps-version");e?a.version=e:a.version=a.account.version,d()}})):b.error("Unable to load library, missing or invalid ps-account meta tag")}(b=a.LibraryLoader||(a.LibraryLoader={}))}(PriceSpider||(PriceSpider={}));
//# sourceMappingURL=ps-widget.js.map